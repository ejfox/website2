{
  "frontmatter": {
    "dek": "In which",
    "inprogress": true,
    "date": "2022-12-05T23:34:09.000Z",
    "modified": "2024-07-18T18:44:29.000Z",
    "tags": [
      "vue",
      "css",
      "javascript",
      "event"
    ],
    "hidden": true,
    "draft": true
  },
  "content": "## Advanced Animations and Transitions in Vue\n\n## Properly keying is essential\n\nMany bugs with animations and transitions often come to not properly keying various elements in a `v-for` - this means the animation can't keep track of the [object constancy](https://bost.ocks.org/mike/constancy/) and things behave strangely. Each key must be unique to each individual thing you want to animate.\n\n## Deciding between JS and CSS animations\n\nA lot depends on how complicated you want an animation to be, if you want to stagger or delay parts of the animation, what properties you want to animate, if you want to pull sound into your animation, the mechanism you will use to trigger the animation, and how many DOM elements you will be animating at once.\n\n### Integrating Anime.js and Vue\n\nAnime.js has an incredibly well-designed interface for designing performant animations. We will use it in combination with Vue's ref system so that we can maintain performance and keep our code as simple as possible.\n\n## Appearance Animations\n\nBy adding the [appear prop] to the `<Transition appear>` the transition will be applied on the initial render.\n\n## Event Animations\n\nSometimes we want an animation to be triggered when an event happens, like data being successfully fetched, user input, or some other sort of change. Anime makes this easy, as we can define the animation in a function and then pass the element into it as needed, using our existing event structure.\n\n## Vue's Built-In Enter/Leave Transitions\n\nVue has `Transition` and `TransitionGroup` components [built in](https://vuejs.org/guide/built-ins/transition) to apply animations when elements are added or removed, or change position within a v-for.\n\n### Named Transitions\n\nYou can create a named transition and define it in CSS.\n\n```vue\n<Transition name=\"fade\"> ... </Transition>\n```\n\n```css\n.fade-enter-active,\n.fade-leave-active {\n  transition: opacity 0.5s ease;\n}\n\n.fade-enter-from,\n.fade-leave-to {\n  opacity: 0;\n}\n```\n\n### Custom Transition Classes\n\nSome libraries like [Animate.css](https://daneden.github.io/animate.css/) provide a bunch of premade animations which can be invoked by adding class names to an element.\n\nIn Vue you can specify CSS class names to be added to the element at certain portions of the lifecycle:\n\n```vue\n<Transition\n  name=\"custom-classes\"\n  enter-active-class=\"animate__animated animate__tada\"\n  leave-active-class=\"animate__animated animate__bounceOutRight\"\n>\n  <p v-if=\"show\">hello</p>\n</Transition>\n```\n\n### Transition Javascript Hooks\n\nThe `<Transition>` element also provides a number of handy event-style hooks that will allow us to use javascript to animate the element in more elaborate ways.\n\n```vue\n<Transition\n  @before-enter=\"onBeforeEnter\"\n  @enter=\"onEnter\"\n  @after-enter=\"onAfterEnter\"\n  @enter-cancelled=\"onEnterCancelled\"\n  @before-leave=\"onBeforeLeave\"\n  @leave=\"onLeave\"\n  @after-leave=\"onAfterLeave\"\n  @leave-cancelled=\"onLeaveCancelled\"\n>\n\n</Transition>\n```\n\n## Page & Element Transitions\n\nNuxt provides [page transitions](https://nuxt.com/docs/getting-started/transitions#page-transitions) that let you apply classes as the route or [layout](https://nuxt.com/docs/getting-started/transitions#layout-transitions) changes.\n\n```\n.page-enter-active,\n.page-leave-active {\n  transition: all 0.4s;\n}\n.page-enter-from,\n.page-leave-to {\n  opacity: 0;\n}\n```\n"
}