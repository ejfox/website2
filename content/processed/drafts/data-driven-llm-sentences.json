{
  "slug": "drafts/data-driven-llm-sentences",
  "dek": "In which we give the robot a bunch of data and ask it to tell us what it means",
  "inprogress": true,
  "date": "2023-07-19T12:27:21.000Z",
  "modified": "2024-09-20T04:19:31.000Z",
  "tags": [
    "datajournalism",
    "dataviz",
    "gpt3",
    "journalism",
    "media",
    "visualization"
  ],
  "hidden": true,
  "draft": true,
  "robotsMeta": "noindex, nofollow",
  "title": "Data-driven sentences with LLMs",
  "toc": [
    {
      "text": "Data-driven sentences with LLMs",
      "slug": "data-driven-sentences-with-llms",
      "level": "h2",
      "children": []
    },
    {
      "text": "Example: Summarizing a Scatterplot",
      "slug": "example-summarizing-a-scatterplot",
      "level": "h2",
      "children": [
        {
          "text": "Summarizing groups of datas",
          "slug": "summarizing-groups-of-datas",
          "level": "h3",
          "children": []
        }
      ]
    }
  ],
  "wordCount": 392,
  "readingTime": 2,
  "imageCount": 0,
  "linkCount": 0,
  "content": "<p class=\"max-w-prose\" style=\"max-width: 50ch;\">I am a big fan of data visualization, but it is even better when paired with well-crafted human readable text that reiterates or enhances what the visual is conveying. Graphics and text used together in this way can create something greater than the sum of their parts.</p>\n<p class=\"max-w-prose\" style=\"max-width: 50ch;\">These data-driven sentences can be enhanced <em>even further</em> with Large Language Models (LLMs) if given the correct contextual data, templates, and prompting. This data-driven text can help make data graphics and user interfaces more understandable to our users, and provide a way to surface interesting contextual information that might not have a place in a traditional user interface.</p>\n<p class=\"max-w-prose\" style=\"max-width: 50ch;\">Historically data-driven sentences have followed a sort of “mad libs” formula, where a sentence template is created and variables are filled in. These results can sometimes feel robotic, less like a caption and more like a receipt! But even within these limits, the results are pretty good.</p>\n<p class=\"max-w-prose\" style=\"max-width: 50ch;\">In this article we are going to explore different techniques and experiment with both how to provide contextual data and correctly prompt LLMs to be produce high-quality and factual data-driven sentences based on our own datasets.</p>\n<h2 id=\"example-summarizing-a-scatterplot\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#example-summarizing-a-scatterplot\">\n<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 14.81 17.81\" class=\"header-star inline-block mr-2\" width=\"14\" height=\"17\" opacity=\"0.2\">\n  <path d=\"M10.01,5.75c1.18-.82,2.19-1.55,3.22-2.24.48-.32,1.05-.52,1.45.07.39.58-.22.78-.54,1.07-1.15,1.05-2.29,2.12-3.46,3.14-1.61,1.41-1.68,2.82-.12,4.35.44.43.97.78,1.48,1.15.42.3.69.68.51,1.19-.2.58-.69.76-1.28.85-.87.14-1.6-1.14-2.32-.42-.47.48-.41,1.47-.65,2.2-.13.39-.52.6-.91.67-.54.1-.89-.26-1.1-.68-.37-.72-.37-1.45-.11-2.26.29-.91.9-2.19,0-2.72-.56-.33-1.53.82-2.14,1.53-.76.88-1.8,1.51-2.32,2.62-.23.48-.75.58-1.22.35-.67-.31-.56-.89-.31-1.4.71-1.44,1.94-2.43,3.1-3.46,2.66-2.37,2.68-2.36.36-5.11-.5-.6-1.05-1.16-1.57-1.74-.22-.25-.34-.56-.13-.84.2-.27.56-.24.87-.19,1.09.18,1.71,1.01,2.43,1.72.54.54,1.03,1.57,1.74,1.37.82-.24.4-1.36.48-2.08.18-1.48.32-2.95.89-4.33C8.48.27,8.7.01,9.04,0c.48-.01.69.37.72.75.07.93.1,1.87.07,2.81-.02.68-.26,1.36.17,2.19Z\"></path>\n</svg></a>Example: Summarizing a Scatterplot</h2>\n<p class=\"max-w-prose\" style=\"max-width: 50ch;\">Scatterplots are useful visual explanations, but are sometimes hard to read if you don't already know what is being plotted and what the axes are. As a reader, I much prefer a scatterplot accompanied by a short explanation of what it shows, and maybe some useful annotations of the outliers.</p>\n<p class=\"max-w-prose\" style=\"max-width: 50ch;\">Data-driven sentences can help with this.</p>\n<h3 id=\"summarizing-groups-of-datas\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#summarizing-groups-of-datas\">\n<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 14.81 17.81\" class=\"header-star inline-block mr-2\" width=\"14\" height=\"17\" opacity=\"0.2\">\n  <path d=\"M10.01,5.75c1.18-.82,2.19-1.55,3.22-2.24.48-.32,1.05-.52,1.45.07.39.58-.22.78-.54,1.07-1.15,1.05-2.29,2.12-3.46,3.14-1.61,1.41-1.68,2.82-.12,4.35.44.43.97.78,1.48,1.15.42.3.69.68.51,1.19-.2.58-.69.76-1.28.85-.87.14-1.6-1.14-2.32-.42-.47.48-.41,1.47-.65,2.2-.13.39-.52.6-.91.67-.54.1-.89-.26-1.1-.68-.37-.72-.37-1.45-.11-2.26.29-.91.9-2.19,0-2.72-.56-.33-1.53.82-2.14,1.53-.76.88-1.8,1.51-2.32,2.62-.23.48-.75.58-1.22.35-.67-.31-.56-.89-.31-1.4.71-1.44,1.94-2.43,3.1-3.46,2.66-2.37,2.68-2.36.36-5.11-.5-.6-1.05-1.16-1.57-1.74-.22-.25-.34-.56-.13-.84.2-.27.56-.24.87-.19,1.09.18,1.71,1.01,2.43,1.72.54.54,1.03,1.57,1.74,1.37.82-.24.4-1.36.48-2.08.18-1.48.32-2.95.89-4.33C8.48.27,8.7.01,9.04,0c.48-.01.69.37.72.75.07.93.1,1.87.07,2.81-.02.68-.26,1.36.17,2.19Z\"></path>\n</svg></a>Summarizing groups of datas</h3>\n<h4 id=\"latentscope-summarizing-umap-clusters-of-qualitative-data\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#latentscope-summarizing-umap-clusters-of-qualitative-data\">\n<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 14.81 17.81\" class=\"header-star inline-block mr-2\" width=\"14\" height=\"17\" opacity=\"0.2\">\n  <path d=\"M10.01,5.75c1.18-.82,2.19-1.55,3.22-2.24.48-.32,1.05-.52,1.45.07.39.58-.22.78-.54,1.07-1.15,1.05-2.29,2.12-3.46,3.14-1.61,1.41-1.68,2.82-.12,4.35.44.43.97.78,1.48,1.15.42.3.69.68.51,1.19-.2.58-.69.76-1.28.85-.87.14-1.6-1.14-2.32-.42-.47.48-.41,1.47-.65,2.2-.13.39-.52.6-.91.67-.54.1-.89-.26-1.1-.68-.37-.72-.37-1.45-.11-2.26.29-.91.9-2.19,0-2.72-.56-.33-1.53.82-2.14,1.53-.76.88-1.8,1.51-2.32,2.62-.23.48-.75.58-1.22.35-.67-.31-.56-.89-.31-1.4.71-1.44,1.94-2.43,3.1-3.46,2.66-2.37,2.68-2.36.36-5.11-.5-.6-1.05-1.16-1.57-1.74-.22-.25-.34-.56-.13-.84.2-.27.56-.24.87-.19,1.09.18,1.71,1.01,2.43,1.72.54.54,1.03,1.57,1.74,1.37.82-.24.4-1.36.48-2.08.18-1.48.32-2.95.89-4.33C8.48.27,8.7.01,9.04,0c.48-.01.69.37.72.75.07.93.1,1.87.07,2.81-.02.68-.26,1.36.17,2.19Z\"></path>\n</svg></a>LatentScope: summarizing UMAP clusters of qualitative data</h4>\n<p class=\"max-w-prose\" style=\"max-width: 50ch;\">One experiment in data-driven sentences happened during the development of LatentScope with Room 302 Studio Member Ian Johnson who built a tool to create embeddings from any CSV, map, cluster, and explore them. We were curious about the groupings the tool created, and we would often poke around the individual nodes in each group to get a sense of what the commonalities were.</p>\n<p class=\"max-w-prose\" style=\"max-width: 50ch;\">To automate summaries and naming of the groups, we take a random sample (as much as will fit in token space) and prompt-stuff that before our request; “can you summarize the common themes between these entries?”</p>\n<p class=\"max-w-prose\" style=\"max-width: 50ch;\">The automated summaries proved to be surprisingly high-quality.</p>\n<h4 id=\"electology-data-driven-election-results-and-history\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#electology-data-driven-election-results-and-history\">\n<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 14.81 17.81\" class=\"header-star inline-block mr-2\" width=\"14\" height=\"17\" opacity=\"0.2\">\n  <path d=\"M10.01,5.75c1.18-.82,2.19-1.55,3.22-2.24.48-.32,1.05-.52,1.45.07.39.58-.22.78-.54,1.07-1.15,1.05-2.29,2.12-3.46,3.14-1.61,1.41-1.68,2.82-.12,4.35.44.43.97.78,1.48,1.15.42.3.69.68.51,1.19-.2.58-.69.76-1.28.85-.87.14-1.6-1.14-2.32-.42-.47.48-.41,1.47-.65,2.2-.13.39-.52.6-.91.67-.54.1-.89-.26-1.1-.68-.37-.72-.37-1.45-.11-2.26.29-.91.9-2.19,0-2.72-.56-.33-1.53.82-2.14,1.53-.76.88-1.8,1.51-2.32,2.62-.23.48-.75.58-1.22.35-.67-.31-.56-.89-.31-1.4.71-1.44,1.94-2.43,3.1-3.46,2.66-2.37,2.68-2.36.36-5.11-.5-.6-1.05-1.16-1.57-1.74-.22-.25-.34-.56-.13-.84.2-.27.56-.24.87-.19,1.09.18,1.71,1.01,2.43,1.72.54.54,1.03,1.57,1.74,1.37.82-.24.4-1.36.48-2.08.18-1.48.32-2.95.89-4.33C8.48.27,8.7.01,9.04,0c.48-.01.69.37.72.75.07.93.1,1.87.07,2.81-.02.68-.26,1.36.17,2.19Z\"></path>\n</svg></a>Electology: data-driven election results and history</h4>\n<h4 id=\"gpt-browser-summarizing-webpages-info-facts-in-the-command-line\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#gpt-browser-summarizing-webpages-info-facts-in-the-command-line\">\n<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 14.81 17.81\" class=\"header-star inline-block mr-2\" width=\"14\" height=\"17\" opacity=\"0.2\">\n  <path d=\"M10.01,5.75c1.18-.82,2.19-1.55,3.22-2.24.48-.32,1.05-.52,1.45.07.39.58-.22.78-.54,1.07-1.15,1.05-2.29,2.12-3.46,3.14-1.61,1.41-1.68,2.82-.12,4.35.44.43.97.78,1.48,1.15.42.3.69.68.51,1.19-.2.58-.69.76-1.28.85-.87.14-1.6-1.14-2.32-.42-.47.48-.41,1.47-.65,2.2-.13.39-.52.6-.91.67-.54.1-.89-.26-1.1-.68-.37-.72-.37-1.45-.11-2.26.29-.91.9-2.19,0-2.72-.56-.33-1.53.82-2.14,1.53-.76.88-1.8,1.51-2.32,2.62-.23.48-.75.58-1.22.35-.67-.31-.56-.89-.31-1.4.71-1.44,1.94-2.43,3.1-3.46,2.66-2.37,2.68-2.36.36-5.11-.5-.6-1.05-1.16-1.57-1.74-.22-.25-.34-.56-.13-.84.2-.27.56-.24.87-.19,1.09.18,1.71,1.01,2.43,1.72.54.54,1.03,1.57,1.74,1.37.82-.24.4-1.36.48-2.08.18-1.48.32-2.95.89-4.33C8.48.27,8.7.01,9.04,0c.48-.01.69.37.72.75.07.93.1,1.87.07,2.81-.02.68-.26,1.36.17,2.19Z\"></path>\n</svg></a>Gpt-browser: summarizing webpages info facts in the command line</h4>"
}