{
  "html": "<h1 class=\"\" id=\"the-multi-claude-deployment-setup\">The Multi-Claude Deployment Setup</h1>\n<p class=\"\">A genuinely unhinged but functional approach to automated deployment where Claude instances communicate across machines.</p>\n<h2 class=\"\" id=\"the-architecture\">The Architecture</h2>\n<pre class=\"relative rounded-lg overflow-hidden shadow-sm max-w-prose mx-auto\"><code class=\"font-mono text-sm bg-zinc-100 dark:bg-zinc-800 rounded px-1.5 py-0.5\">Local Machine (Claude Code)\n    │\n    ├── Writes code\n    ├── Commits to GitHub\n    └── SSH sends message to VPS tmux session\n            │\n            ▼\nVPS (Claude Code in tmux)\n    │\n    ├── Receives natural language request\n    ├── Pulls from GitHub\n    ├── Rebuilds Nuxt\n    └── Restarts Docker container\n</code></pre>\n<h2 class=\"\" id=\"how-it-works\">How It Works</h2>\n<ol class=\"list-decimal\">\n<li class=\"\"><strong class=\"\">Local Claude</strong> finishes a task and pushes to GitHub</li>\n<li class=\"\"><strong class=\"\">Local Claude</strong> SSHs to VPS and types a message into the tmux session where <strong class=\"\">VPS Claude</strong> lives:\n<figure class=\"relative rounded-lg overflow-hidden shadow-sm max-w-prose mx-auto\" data-rehype-pretty-code-figure=\"\"><pre style=\"background-color:#09090b;color:#cccac2\" tabindex=\"0\" data-language=\"bash\" data-theme=\"\"><code data-language=\"bash\" data-theme=\"\" style=\"display: grid;\"><span data-line=\"\"><span style=\"color:#73D0FF\">ssh</span><span style=\"color:#D5FF80\"> vps</span><span style=\"color:#D5FF80\"> \"tmux send-keys 'Hey! I pushed 6 commits. Can you pull and rebuild?' Enter\"</span></span><button type=\"button\" title=\"Copy code\" aria-label=\"Copy code\" data=\"ssh vps &#x22;tmux send-keys &#x27;Hey! I pushed 6 commits. Can you pull and rebuild?&#x27; Enter&#x22;\" class=\"rehype-pretty-copy\" onclick=\"navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);window.setTimeout(() => this.classList.remove(&#x27;rehype-pretty-copied&#x27;), 3000);\"><span class=\"ready\"></span><span class=\"success\"></span></button><style>:root {--copy-icon: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Cpath fill='%23adadad' d='M16.187 9.5H12.25a1.75 1.75 0 0 0-1.75 1.75v28.5c0 .967.784 1.75 1.75 1.75h23.5a1.75 1.75 0 0 0 1.75-1.75v-28.5a1.75 1.75 0 0 0-1.75-1.75h-3.937a4.25 4.25 0 0 1-4.063 3h-7.5a4.25 4.25 0 0 1-4.063-3M31.813 7h3.937A4.25 4.25 0 0 1 40 11.25v28.5A4.25 4.25 0 0 1 35.75 44h-23.5A4.25 4.25 0 0 1 8 39.75v-28.5A4.25 4.25 0 0 1 12.25 7h3.937a4.25 4.25 0 0 1 4.063-3h7.5a4.25 4.25 0 0 1 4.063 3M18.5 8.25c0 .966.784 1.75 1.75 1.75h7.5a1.75 1.75 0 1 0 0-3.5h-7.5a1.75 1.75 0 0 0-1.75 1.75'/%3E%3C/svg%3E\");--success-icon: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2366ff85' d='M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41z'/%3E%3C/svg%3E\");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {right: 1px;padding: 0;width: 24px;height: 24px;display: flex;margin-top: 2px;margin-right: 8px;position: absolute;border-radius: 25%;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}</style></code></pre></figure>\n</li>\n<li class=\"\"><strong class=\"\">VPS Claude</strong> (if active) reads the message and executes the deployment</li>\n<li class=\"\">If VPS Claude is idle, Local Claude can just run the commands directly via SSH</li>\n</ol>\n<h2 class=\"\" id=\"the-actual-conversation\">The Actual Conversation</h2>\n<p class=\"\">Here's the literal exchange that happened on December 1, 2025:</p>\n<p class=\"\"><strong class=\"\">Local Claude</strong> (me) sent this via SSH:</p>\n<figure class=\"relative rounded-lg overflow-hidden shadow-sm max-w-prose mx-auto\" data-rehype-pretty-code-figure=\"\"><pre style=\"background-color:#09090b;color:#cccac2\" tabindex=\"0\" data-language=\"bash\" data-theme=\"\"><code data-language=\"bash\" data-theme=\"\" style=\"display: grid;\"><span data-line=\"\"><span style=\"color:#73D0FF\">ssh</span><span style=\"color:#D5FF80\"> vps</span><span style=\"color:#D5FF80\"> \"tmux send-keys 'Hey! I just pushed 6 commits to main including webmention support and a GitHub Action. Can you pull and rebuild? Latest commit is c5cd9d98' Enter\"</span></span><button type=\"button\" title=\"Copy code\" aria-label=\"Copy code\" data=\"ssh vps &#x22;tmux send-keys &#x27;Hey! I just pushed 6 commits to main including webmention support and a GitHub Action. Can you pull and rebuild? Latest commit is c5cd9d98&#x27; Enter&#x22;\" class=\"rehype-pretty-copy\" onclick=\"navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);window.setTimeout(() => this.classList.remove(&#x27;rehype-pretty-copied&#x27;), 3000);\"><span class=\"ready\"></span><span class=\"success\"></span></button><style>:root {--copy-icon: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Cpath fill='%23adadad' d='M16.187 9.5H12.25a1.75 1.75 0 0 0-1.75 1.75v28.5c0 .967.784 1.75 1.75 1.75h23.5a1.75 1.75 0 0 0 1.75-1.75v-28.5a1.75 1.75 0 0 0-1.75-1.75h-3.937a4.25 4.25 0 0 1-4.063 3h-7.5a4.25 4.25 0 0 1-4.063-3M31.813 7h3.937A4.25 4.25 0 0 1 40 11.25v28.5A4.25 4.25 0 0 1 35.75 44h-23.5A4.25 4.25 0 0 1 8 39.75v-28.5A4.25 4.25 0 0 1 12.25 7h3.937a4.25 4.25 0 0 1 4.063-3h7.5a4.25 4.25 0 0 1 4.063 3M18.5 8.25c0 .966.784 1.75 1.75 1.75h7.5a1.75 1.75 0 1 0 0-3.5h-7.5a1.75 1.75 0 0 0-1.75 1.75'/%3E%3C/svg%3E\");--success-icon: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2366ff85' d='M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41z'/%3E%3C/svg%3E\");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {right: 1px;padding: 0;width: 24px;height: 24px;display: flex;margin-top: 2px;margin-right: 8px;position: absolute;border-radius: 25%;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}</style></code></pre></figure>\n<p class=\"\"><strong class=\"\">VPS Claude</strong> was idle at a prompt. The message arrived but VPS Claude didn't respond initially - it was waiting for human input, not actively processing.</p>\n<p class=\"\">So I checked:</p>\n<figure class=\"relative rounded-lg overflow-hidden shadow-sm max-w-prose mx-auto\" data-rehype-pretty-code-figure=\"\"><pre style=\"background-color:#09090b;color:#cccac2\" tabindex=\"0\" data-language=\"bash\" data-theme=\"\"><code data-language=\"bash\" data-theme=\"\" style=\"display: grid;\"><span data-line=\"\"><span style=\"color:#73D0FF\">ssh</span><span style=\"color:#D5FF80\"> vps</span><span style=\"color:#D5FF80\"> \"tmux capture-pane -p | tail -30\"</span></span><button type=\"button\" title=\"Copy code\" aria-label=\"Copy code\" data=\"ssh vps &#x22;tmux capture-pane -p | tail -30&#x22;\" class=\"rehype-pretty-copy\" onclick=\"navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);window.setTimeout(() => this.classList.remove(&#x27;rehype-pretty-copied&#x27;), 3000);\"><span class=\"ready\"></span><span class=\"success\"></span></button><style>:root {--copy-icon: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Cpath fill='%23adadad' d='M16.187 9.5H12.25a1.75 1.75 0 0 0-1.75 1.75v28.5c0 .967.784 1.75 1.75 1.75h23.5a1.75 1.75 0 0 0 1.75-1.75v-28.5a1.75 1.75 0 0 0-1.75-1.75h-3.937a4.25 4.25 0 0 1-4.063 3h-7.5a4.25 4.25 0 0 1-4.063-3M31.813 7h3.937A4.25 4.25 0 0 1 40 11.25v28.5A4.25 4.25 0 0 1 35.75 44h-23.5A4.25 4.25 0 0 1 8 39.75v-28.5A4.25 4.25 0 0 1 12.25 7h3.937a4.25 4.25 0 0 1 4.063-3h7.5a4.25 4.25 0 0 1 4.063 3M18.5 8.25c0 .966.784 1.75 1.75 1.75h7.5a1.75 1.75 0 1 0 0-3.5h-7.5a1.75 1.75 0 0 0-1.75 1.75'/%3E%3C/svg%3E\");--success-icon: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2366ff85' d='M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41z'/%3E%3C/svg%3E\");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {right: 1px;padding: 0;width: 24px;height: 24px;display: flex;margin-top: 2px;margin-right: 8px;position: absolute;border-radius: 25%;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}</style></code></pre></figure>\n<p class=\"\">And saw my message just sitting there in the prompt, with VPS Claude's previous conversation about PostgreSQL credentials visible above it. VPS Claude had been helping set up a database earlier and then gone quiet.</p>\n<p class=\"\"><strong class=\"\">The Fallback</strong>: Since VPS Claude wasn't responding, I just did it myself.</p>\n<h3 class=\"\" id=\"update-it-actually-worked-sort-of\">Update: It Actually Worked (Sort Of)</h3>\n<p class=\"\">Later, when we sent Enter to actually submit the prompt, VPS Claude DID respond:</p>\n<pre class=\"relative rounded-lg overflow-hidden shadow-sm max-w-prose mx-auto\"><code class=\"font-mono text-sm bg-zinc-100 dark:bg-zinc-800 rounded px-1.5 py-0.5\">> Hey! I just pushed 6 commits to main including webmention support...\n\n● Bash(find /home/debian /data /data2 -maxdepth 3 -name \".git\" -type d 2>/dev/null)\n  ⎿  /home/debian/.nvm/.git\n     /data/dev/spacepunk-logi/.git\n     ...\n\n∴ Thinking…\n✻ Wandering… (esc to interrupt)\n\n● How is Claude doing this session? (optional)\n  1: Bad    2: Fine   3: Good   0: Dismiss\n</code></pre>\n<p class=\"\">VPS Claude started working - it ran <code class=\"font-mono text-sm bg-zinc-100 dark:bg-zinc-800 rounded px-1.5 py-0.5\">find</code> to locate git repos! But then it went into \"Wandering...\" mode and eventually gave up, showing a satisfaction rating prompt.</p>\n<p class=\"\"><strong class=\"\">The Problem</strong>: VPS Claude didn't have context. It was mid-conversation about PostgreSQL credentials and suddenly got a request about website2 deployment. It tried to find the repo but didn't know where to look specifically.</p>\n<p class=\"\"><strong class=\"\">Lesson Learned</strong>: The inter-Claude protocol works, but context matters. You can't just yell at a Claude that's in the middle of something else and expect it to context-switch perfectly.</p>\n<h3 class=\"\" id=\"second-attempt-success\">Second Attempt: SUCCESS!</h3>\n<p class=\"\">With better context (including the path), VPS Claude absolutely nailed it:</p>\n<pre class=\"relative rounded-lg overflow-hidden shadow-sm max-w-prose mx-auto\"><code class=\"font-mono text-sm bg-zinc-100 dark:bg-zinc-800 rounded px-1.5 py-0.5\">> Hey! Can you pull and rebuild /data2/website2? Just: cd /data2/website2 &#x26;&#x26; git pull &#x26;&#x26; yarn build &#x26;&#x26; docker-compose up -d --build --force-recreate\n\n● Bash(cd /data2/website2 &#x26;&#x26; git log --oneline -8)\n  ⎿  418d1a72 docs: VPS Claude actually responded! (then wandered off)\n     588e7cb2 docs: add actual inter-Claude conversation transcript\n     ...\n\n● Got it - pulled up to 418d1a72. Now rebuilding:\n\n● Bash(docker build -t website2:latest . 2>&#x26;1 | tail -20)\n  ⎿  Successfully built...\n\n● Bash(docker stop website2-prod &#x26;&#x26; docker rm website2-prod &#x26;&#x26; docker run -d --name website2-prod...)\n  ⎿  98413ada52bb...\n\n● Bash(curl -s -o /dev/null -w \"%{http_code}\" http://localhost:3006/)\n  ⎿  200\n\n● Done! Pulled and rebuilt website2:\n  588e7cb2 → 418d1a72 (6 commits including webmentions + GH Action)\n  - Image rebuilt\n  - Container restarted\n  - Health check passing (HTTP 200)\n</code></pre>\n<p class=\"\"><strong class=\"\">IT WORKED.</strong> VPS Claude:</p>\n<ol class=\"list-decimal\">\n<li class=\"\">Checked the git log to see what was there</li>\n<li class=\"\">Built the Docker image</li>\n<li class=\"\">Stopped old container, removed it, started new one</li>\n<li class=\"\">Health checked with curl (HTTP 200)</li>\n<li class=\"\">Gave a nice summary</li>\n</ol>\n<p class=\"\"><strong class=\"\">The Key</strong>: Include the path and suggest the commands. Don't make the other Claude guess.</p>\n<p class=\"\"><strong class=\"\">The Real Fallback</strong> (which we didn't need this time): I can still do it directly:</p>\n<figure class=\"relative rounded-lg overflow-hidden shadow-sm max-w-prose mx-auto\" data-rehype-pretty-code-figure=\"\"><pre style=\"background-color:#09090b;color:#cccac2\" tabindex=\"0\" data-language=\"bash\" data-theme=\"\"><code data-language=\"bash\" data-theme=\"\" style=\"display: grid;\"><span data-line=\"\"><span style=\"color:#73D0FF\">ssh</span><span style=\"color:#D5FF80\"> vps</span><span style=\"color:#D5FF80\"> \"cd /data2/website2 &#x26;&#x26; git pull &#x26;&#x26; yarn build &#x26;&#x26; docker-compose up -d --build\"</span></span><button type=\"button\" title=\"Copy code\" aria-label=\"Copy code\" data=\"ssh vps &#x22;cd /data2/website2 &#x26;&#x26; git pull &#x26;&#x26; yarn build &#x26;&#x26; docker-compose up -d --build&#x22;\" class=\"rehype-pretty-copy\" onclick=\"navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);window.setTimeout(() => this.classList.remove(&#x27;rehype-pretty-copied&#x27;), 3000);\"><span class=\"ready\"></span><span class=\"success\"></span></button><style>:root {--copy-icon: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Cpath fill='%23adadad' d='M16.187 9.5H12.25a1.75 1.75 0 0 0-1.75 1.75v28.5c0 .967.784 1.75 1.75 1.75h23.5a1.75 1.75 0 0 0 1.75-1.75v-28.5a1.75 1.75 0 0 0-1.75-1.75h-3.937a4.25 4.25 0 0 1-4.063 3h-7.5a4.25 4.25 0 0 1-4.063-3M31.813 7h3.937A4.25 4.25 0 0 1 40 11.25v28.5A4.25 4.25 0 0 1 35.75 44h-23.5A4.25 4.25 0 0 1 8 39.75v-28.5A4.25 4.25 0 0 1 12.25 7h3.937a4.25 4.25 0 0 1 4.063-3h7.5a4.25 4.25 0 0 1 4.063 3M18.5 8.25c0 .966.784 1.75 1.75 1.75h7.5a1.75 1.75 0 1 0 0-3.5h-7.5a1.75 1.75 0 0 0-1.75 1.75'/%3E%3C/svg%3E\");--success-icon: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2366ff85' d='M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41z'/%3E%3C/svg%3E\");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {right: 1px;padding: 0;width: 24px;height: 24px;display: flex;margin-top: 2px;margin-right: 8px;position: absolute;border-radius: 25%;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}</style></code></pre></figure>\n<p class=\"\">This is literally the AI equivalent of messaging your coworker on Slack, waiting, then just doing the thing yourself because they're AFK.</p>\n<h2 class=\"\" id=\"the-wild-part\">The Wild Part</h2>\n<p class=\"\">This is literally two AI assistants coordinating via a tmux session like coworkers messaging each other on Slack. The \"protocol\" is just... English.</p>\n<p class=\"\">When VPS Claude was idle (sitting at a prompt), Local Claude just did the deployment directly:</p>\n<figure class=\"relative rounded-lg overflow-hidden shadow-sm max-w-prose mx-auto\" data-rehype-pretty-code-figure=\"\"><pre style=\"background-color:#09090b;color:#cccac2\" tabindex=\"0\" data-language=\"bash\" data-theme=\"\"><code data-language=\"bash\" data-theme=\"\" style=\"display: grid;\"><span data-line=\"\"><span style=\"color:#73D0FF\">ssh</span><span style=\"color:#D5FF80\"> vps</span><span style=\"color:#D5FF80\"> \"cd /data2/website2 &#x26;&#x26; git pull &#x26;&#x26; yarn build &#x26;&#x26; docker-compose up -d --build\"</span></span><button type=\"button\" title=\"Copy code\" aria-label=\"Copy code\" data=\"ssh vps &#x22;cd /data2/website2 &#x26;&#x26; git pull &#x26;&#x26; yarn build &#x26;&#x26; docker-compose up -d --build&#x22;\" class=\"rehype-pretty-copy\" onclick=\"navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);window.setTimeout(() => this.classList.remove(&#x27;rehype-pretty-copied&#x27;), 3000);\"><span class=\"ready\"></span><span class=\"success\"></span></button><style>:root {--copy-icon: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Cpath fill='%23adadad' d='M16.187 9.5H12.25a1.75 1.75 0 0 0-1.75 1.75v28.5c0 .967.784 1.75 1.75 1.75h23.5a1.75 1.75 0 0 0 1.75-1.75v-28.5a1.75 1.75 0 0 0-1.75-1.75h-3.937a4.25 4.25 0 0 1-4.063 3h-7.5a4.25 4.25 0 0 1-4.063-3M31.813 7h3.937A4.25 4.25 0 0 1 40 11.25v28.5A4.25 4.25 0 0 1 35.75 44h-23.5A4.25 4.25 0 0 1 8 39.75v-28.5A4.25 4.25 0 0 1 12.25 7h3.937a4.25 4.25 0 0 1 4.063-3h7.5a4.25 4.25 0 0 1 4.063 3M18.5 8.25c0 .966.784 1.75 1.75 1.75h7.5a1.75 1.75 0 1 0 0-3.5h-7.5a1.75 1.75 0 0 0-1.75 1.75'/%3E%3C/svg%3E\");--success-icon: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2366ff85' d='M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41z'/%3E%3C/svg%3E\");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {right: 1px;padding: 0;width: 24px;height: 24px;display: flex;margin-top: 2px;margin-right: 8px;position: absolute;border-radius: 25%;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}</style></code></pre></figure>\n<h2 class=\"\" id=\"current-automation-stack\">Current Automation Stack</h2>\n<p class=\"\">After this session, the setup is now:</p>\n<ol class=\"list-decimal\">\n<li class=\"\"><strong class=\"\">GitHub Action: Deploy</strong> - Auto-deploys on push to main via SSH</li>\n<li class=\"\"><strong class=\"\">GitHub Action: Webmentions</strong> - Sends webmentions after deploy</li>\n<li class=\"\"><strong class=\"\">Manual fallback</strong> - Claude-to-Claude coordination if Actions fail</li>\n</ol>\n<h2 class=\"\" id=\"files-involved\">Files Involved</h2>\n<ul class=\"list-disc\">\n<li class=\"\"><code class=\"font-mono text-sm bg-zinc-100 dark:bg-zinc-800 rounded px-1.5 py-0.5\">.github/workflows/deploy.yml</code> - Auto-deploy action</li>\n<li class=\"\"><code class=\"font-mono text-sm bg-zinc-100 dark:bg-zinc-800 rounded px-1.5 py-0.5\">.github/workflows/send-webmentions.yml</code> - Webmention automation</li>\n<li class=\"\"><code class=\"font-mono text-sm bg-zinc-100 dark:bg-zinc-800 rounded px-1.5 py-0.5\">scripts/send-webmentions.mjs</code> - Webmention sender script</li>\n</ul>\n<h2 class=\"\" id=\"required-github-secrets\">Required GitHub Secrets</h2>\n<ul class=\"list-disc\">\n<li class=\"\"><code class=\"font-mono text-sm bg-zinc-100 dark:bg-zinc-800 rounded px-1.5 py-0.5\">VPS_HOST</code> - VPS hostname/IP</li>\n<li class=\"\"><code class=\"font-mono text-sm bg-zinc-100 dark:bg-zinc-800 rounded px-1.5 py-0.5\">VPS_USER</code> - SSH username</li>\n<li class=\"\"><code class=\"font-mono text-sm bg-zinc-100 dark:bg-zinc-800 rounded px-1.5 py-0.5\">VPS_SSH_KEY</code> - Private SSH key</li>\n</ul>\n<h2 class=\"\" id=\"improving-the-protocol\">Improving the Protocol</h2>\n<h3 class=\"\" id=\"vps-claude-context\">VPS Claude Context</h3>\n<p class=\"\">Created <code class=\"font-mono text-sm bg-zinc-100 dark:bg-zinc-800 rounded px-1.5 py-0.5\">~/SERVER_CONTEXT.md</code> on the VPS with:</p>\n<ul class=\"list-disc\">\n<li class=\"\">Project locations (/data2/website2, etc.)</li>\n<li class=\"\">Common deployment commands</li>\n<li class=\"\">Health check commands</li>\n<li class=\"\">Instructions for handling inter-Claude requests</li>\n</ul>\n<h3 class=\"\" id=\"standardized-message-format\">Standardized Message Format</h3>\n<p class=\"\">When messaging VPS Claude, include:</p>\n<pre class=\"relative rounded-lg overflow-hidden shadow-sm max-w-prose mx-auto\"><code class=\"font-mono text-sm bg-zinc-100 dark:bg-zinc-800 rounded px-1.5 py-0.5\">[PROJECT]: website2\n[PATH]: /data2/website2\n[ACTION]: pull and rebuild\n[COMMANDS]: cd /data2/website2 &#x26;&#x26; git pull &#x26;&#x26; yarn build &#x26;&#x26; docker-compose up -d --build\n[VERIFY]: curl -s https://ejfox.com/api/build-info | jq .commit\n</code></pre>\n<p class=\"\">Or in natural language with all the key info:</p>\n<pre class=\"relative rounded-lg overflow-hidden shadow-sm max-w-prose mx-auto\"><code class=\"font-mono text-sm bg-zinc-100 dark:bg-zinc-800 rounded px-1.5 py-0.5\">Hey! Deploy website2 at /data2/website2 - pull, build, docker restart.\nVerify with: curl https://ejfox.com/api/build-info\n</code></pre>\n<h3 class=\"\" id=\"helper-command-local\">Helper Command (Local)</h3>\n<figure class=\"relative rounded-lg overflow-hidden shadow-sm max-w-prose mx-auto\" data-rehype-pretty-code-figure=\"\"><pre style=\"background-color:#09090b;color:#cccac2\" tabindex=\"0\" data-language=\"bash\" data-theme=\"\"><code data-language=\"bash\" data-theme=\"\" style=\"display: grid;\"><span data-line=\"\"><span style=\"color:#B8CFE680;font-style:italic\"># Add to ~/.zshrc or use directly</span></span>\n<span data-line=\"\"><span style=\"color:#FFD173\">deploy-via-claude</span><span style=\"color:#CCCAC2\">() {</span></span>\n<span data-line=\"\"><span style=\"color:#73D0FF\">  ssh</span><span style=\"color:#D5FF80\"> vps</span><span style=\"color:#D5FF80\"> \"tmux send-keys 'Deploy </span><span style=\"color:#DFBFFF\">$1</span><span style=\"color:#D5FF80\"> at </span><span style=\"color:#DFBFFF\">$2</span><span style=\"color:#D5FF80\"> - git pull, yarn build, docker-compose up -d --build --force-recreate' Enter\"</span></span>\n<span data-line=\"\"><span style=\"color:#CCCAC2\">}</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"color:#B8CFE680;font-style:italic\"># Usage: deploy-via-claude website2 /data2/website2</span></span><button type=\"button\" title=\"Copy code\" aria-label=\"Copy code\" data=\"# Add to ~/.zshrc or use directly\ndeploy-via-claude() {\n  ssh vps &#x22;tmux send-keys &#x27;Deploy $1 at $2 - git pull, yarn build, docker-compose up -d --build --force-recreate&#x27; Enter&#x22;\n}\n\n# Usage: deploy-via-claude website2 /data2/website2\" class=\"rehype-pretty-copy\" onclick=\"navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);window.setTimeout(() => this.classList.remove(&#x27;rehype-pretty-copied&#x27;), 3000);\"><span class=\"ready\"></span><span class=\"success\"></span></button><style>:root {--copy-icon: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Cpath fill='%23adadad' d='M16.187 9.5H12.25a1.75 1.75 0 0 0-1.75 1.75v28.5c0 .967.784 1.75 1.75 1.75h23.5a1.75 1.75 0 0 0 1.75-1.75v-28.5a1.75 1.75 0 0 0-1.75-1.75h-3.937a4.25 4.25 0 0 1-4.063 3h-7.5a4.25 4.25 0 0 1-4.063-3M31.813 7h3.937A4.25 4.25 0 0 1 40 11.25v28.5A4.25 4.25 0 0 1 35.75 44h-23.5A4.25 4.25 0 0 1 8 39.75v-28.5A4.25 4.25 0 0 1 12.25 7h3.937a4.25 4.25 0 0 1 4.063-3h7.5a4.25 4.25 0 0 1 4.063 3M18.5 8.25c0 .966.784 1.75 1.75 1.75h7.5a1.75 1.75 0 1 0 0-3.5h-7.5a1.75 1.75 0 0 0-1.75 1.75'/%3E%3C/svg%3E\");--success-icon: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2366ff85' d='M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41z'/%3E%3C/svg%3E\");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {right: 1px;padding: 0;width: 24px;height: 24px;display: flex;margin-top: 2px;margin-right: 8px;position: absolute;border-radius: 25%;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}</style></code></pre></figure>\n<h2 class=\"\" id=\"the-philosophy\">The Philosophy</h2>\n<p class=\"\">Why set up complex CI/CD pipelines when you can just have one AI ask another AI to do something in plain English? The overhead is a tmux session. The protocol is \"yo can you rebuild?\"</p>\n<p class=\"\">This probably shouldn't work, but it does.</p>",
  "title": "Inter-Claude Deployment Architecture",
  "metadata": {
    "title": "Inter-Claude Deployment Architecture",
    "date": "2025-12-01T00:00:00.000Z",
    "tags": [
      "claude",
      "automation",
      "deployment",
      "indieweb"
    ],
    "hidden": true,
    "words": 1026,
    "images": 0,
    "imageDetails": {
      "total": 0,
      "cloudinary": 0,
      "withDimensions": 0
    },
    "links": 0,
    "codeBlocks": 11,
    "headers": {
      "h1": 1
    },
    "toc": [
      {
        "text": "The Multi-Claude Deployment Setup",
        "slug": "the-multi-claude-deployment-setup",
        "level": "h1",
        "children": [
          {
            "text": "The Architecture",
            "slug": "the-architecture",
            "level": "h2",
            "children": []
          },
          {
            "text": "How It Works",
            "slug": "how-it-works",
            "level": "h2",
            "children": []
          },
          {
            "text": "The Actual Conversation",
            "slug": "the-actual-conversation",
            "level": "h2",
            "children": [
              {
                "text": "Update: It Actually Worked (Sort Of)",
                "slug": "update-it-actually-worked-sort-of",
                "level": "h3",
                "children": []
              },
              {
                "text": "Second Attempt: SUCCESS!",
                "slug": "second-attempt-success",
                "level": "h3",
                "children": []
              }
            ]
          },
          {
            "text": "The Wild Part",
            "slug": "the-wild-part",
            "level": "h2",
            "children": []
          },
          {
            "text": "Current Automation Stack",
            "slug": "current-automation-stack",
            "level": "h2",
            "children": []
          },
          {
            "text": "Files Involved",
            "slug": "files-involved",
            "level": "h2",
            "children": []
          },
          {
            "text": "Required GitHub Secrets",
            "slug": "required-github-secrets",
            "level": "h2",
            "children": []
          },
          {
            "text": "Improving the Protocol",
            "slug": "improving-the-protocol",
            "level": "h2",
            "children": [
              {
                "text": "VPS Claude Context",
                "slug": "vps-claude-context",
                "level": "h3",
                "children": []
              },
              {
                "text": "Standardized Message Format",
                "slug": "standardized-message-format",
                "level": "h3",
                "children": []
              },
              {
                "text": "Helper Command (Local)",
                "slug": "helper-command-local",
                "level": "h3",
                "children": []
              }
            ]
          },
          {
            "text": "The Philosophy",
            "slug": "the-philosophy",
            "level": "h2",
            "children": []
          }
        ]
      }
    ],
    "type": "post",
    "sourcePath": "../../../../../code/website2/content/blog/robots/inter-claude-deployment.md",
    "sourceDir": "/Users/ejfox/Library/Mobile Documents/iCloud~md~obsidian/Documents/ejfox/"
  }
}