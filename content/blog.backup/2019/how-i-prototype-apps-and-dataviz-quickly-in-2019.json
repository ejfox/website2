{
  "slug": "2019/how-i-prototype-apps-and-dataviz-quickly-in-2019",
  "title": "How I prototype apps and dataviz quickly",
  "date": "2019-03-20T01:25:22.000Z",
  "type": "post",
  "html": "<h2 id=\"how-i-prototype-apps-and-dataviz-quickly\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#how-i-prototype-apps-and-dataviz-quickly\"><span class=\"icon icon-link\"></span></a>How I prototype apps and dataviz quickly</h2>\n<p>I’ve been really enjoying using Vue as a framework for my javascript applications. It allows me to quickly and easily lay out my data structure, some DOM-elements that are controlled by data, and handle any interactions / application state stuff I might need.</p>\n<p>In years past, my development workflow usually started with me cloning my <a href=\"https://github.com/ejfox/starter\">@ejfox/starter</a> project, which has gulp, webpack, and a handful of other useful frameworks for making things quickly already set up.</p>\n<p>Now, since it’s upgrade to 3.0, I pretty much exclusively use</p>\n<p><code>> vue create project-name</code> which gives you a little CLI wizard to create a new Vue project. Importantly, you can manually select the features you want and create your own project defaults.</p>\n<p>Mine, for example, automatically pulls in the Router, Vuex, Linter, and Stylus.</p>\n<p>I <a href=\"https://www.youtube.com/watch?v=Q6e4pQccMH4\">recorded a video of myself spinning up a prototype</a> of a D3 force layout using the techniques I describe below, it’s around 90 minutes but you can tell YouTube to play it double-speed and click around - if you’re curious.</p>\n<h3 id=\"pulling-in-data\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#pulling-in-data\"><span class=\"icon icon-link\"></span></a>Pulling in data</h3>\n<p>In my old starter project, I would pull in data with <a href=\"https://github.com/ejfox/starter/blob/master/src/coffee/app.coffee#L19\">d3.queue</a> which was super easy and very little code.</p>\n<p>With Vue as my default framework, I’ve moved over to using the <a href=\"https://vuejs.org/v2/cookbook/using-axios-to-consume-apis.html\">pattern of using axios to update objects in the component’s data</a> which is also super easy and very little code. Check out <a href=\"https://github.com/ejfox/website/blob/master/pages/vibes.vue#L42\">this super-simple example of axios+vue</a> which powers <a href=\"https://ejfox.com/vibes\">ejfox.com/vibes</a>.</p>\n<p>When I’m pulling data from an API, it’s as simple as setting up the keys, building the API call, looking at the returned data in the Vue Chrome Devtools Inspector, and then building out the DOM elements with Vue’s <a href=\"https://vuejs.org/v2/guide/list.html\">v-if and v-for</a> directives.</p>\n<h3 id=\"combining-vue-and-d3-for-dataviz\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#combining-vue-and-d3-for-dataviz\"><span class=\"icon icon-link\"></span></a>Combining Vue and D3 for dataviz</h3>\n<p>Part of the reason that I really like using Vue is that it meshes with my understanding of D3, which I use to create a majority of my data visualization work both personally and professionally.</p>\n<p>Vue makes it so that we no longer need our old, trusty friend <code>d3.select().enter().append().exit()</code> to bind data to various DOM elements, since Vue is doing it for us.</p>\n<p>Before Vue, I would have an SVG already on the page and do something like</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre style=\"background-color:#24292e;color:#e1e4e8\" tabindex=\"0\" data-language=\"js\" data-theme=\"github-dark\"><code data-language=\"js\" data-theme=\"github-dark\" style=\"display: grid;\"><span data-line=\"\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> svg</span><span style=\"color:#F97583\"> =</span><span style=\"color:#E1E4E8\"> d3.</span><span style=\"color:#B392F0\">select</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">\"svg\"</span><span style=\"color:#E1E4E8\">);</span></span>\n<span data-line=\"\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> circles</span><span style=\"color:#F97583\"> =</span><span style=\"color:#E1E4E8\"> d3</span></span>\n<span data-line=\"\"><span style=\"color:#E1E4E8\">  .</span><span style=\"color:#B392F0\">selectAll</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">\"circle\"</span><span style=\"color:#E1E4E8\">)</span></span>\n<span data-line=\"\"><span style=\"color:#E1E4E8\">  .</span><span style=\"color:#B392F0\">data</span><span style=\"color:#E1E4E8\">(myData)</span></span>\n<span data-line=\"\"><span style=\"color:#E1E4E8\">  .</span><span style=\"color:#B392F0\">enter</span><span style=\"color:#E1E4E8\">()</span></span>\n<span data-line=\"\"><span style=\"color:#E1E4E8\">  .</span><span style=\"color:#B392F0\">append</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">\"circle\"</span><span style=\"color:#E1E4E8\">)</span></span>\n<span data-line=\"\"><span style=\"color:#E1E4E8\">  .</span><span style=\"color:#B392F0\">attr</span><span style=\"color:#E1E4E8\">((</span><span style=\"color:#FFAB70\">d</span><span style=\"color:#E1E4E8\">) </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> {</span></span>\n<span data-line=\"\"><span style=\"color:#F97583\">    return</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span data-line=\"\"><span style=\"color:#E1E4E8\">      r: d.radius,</span></span>\n<span data-line=\"\"><span style=\"color:#E1E4E8\">      cx: d.x,</span></span>\n<span data-line=\"\"><span style=\"color:#E1E4E8\">      cy: d.y,</span></span>\n<span data-line=\"\"><span style=\"color:#E1E4E8\">    };</span></span>\n<span data-line=\"\"><span style=\"color:#E1E4E8\">  });</span></span></code></pre></figure>\n<p>But now with Vue, I just use the HTML declarations in the template like - because of the built-in reactivity, when the data changes the DOM elements are updated. No need for the old D3 select, enter, append pattern.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre style=\"background-color:#24292e;color:#e1e4e8\" tabindex=\"0\" data-language=\"html\" data-theme=\"github-dark\"><code data-language=\"html\" data-theme=\"github-dark\" style=\"display: grid;\"><span data-line=\"\"><span style=\"color:#E1E4E8\">&#x3C;</span><span style=\"color:#85E89D\">svg</span><span style=\"color:#E1E4E8\">></span></span>\n<span data-line=\"\"><span style=\"color:#E1E4E8\">  &#x3C;</span><span style=\"color:#85E89D\">circle</span></span>\n<span data-line=\"\"><span style=\"color:#B392F0\">    v-for</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"circle in myData\"</span></span>\n<span data-line=\"\"><span style=\"color:#B392F0\">    :r</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"circle.radius\"</span></span>\n<span data-line=\"\"><span style=\"color:#B392F0\">    :cx</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"circle.x\"</span></span>\n<span data-line=\"\"><span style=\"color:#B392F0\">    :cy</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"circle.y\"</span></span>\n<span data-line=\"\"><span style=\"color:#E1E4E8\">  /></span></span>\n<span data-line=\"\"><span style=\"color:#E1E4E8\">&#x3C;/</span><span style=\"color:#85E89D\">svg</span><span style=\"color:#E1E4E8\">></span></span></code></pre></figure>\n<p>I still use a ton of D3 functions though, <a href=\"https://github.com/topojson/topojson-client\">topojson-client</a>, all the D3 number and color scales, force layouts, etc.</p>\n<h4 id=\"animating-enteringexiting\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#animating-enteringexiting\"><span class=\"icon icon-link\"></span></a>Animating entering/exiting</h4>\n<p>If I want to fade elements in and out like you would do with <code>d3.select(selection).enter().transition(t).style(‘opacity’, 1)</code> I’ve been using <a href=\"https://daneden.github.io/animate.css/\">animate.css</a> in combination with <a href=\"https://vuejs.org/v2/guide/transitions.html#Custom-Transition-Classes\">Vue’s custom transition classes</a>. So I’ll do something like</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre style=\"background-color:#24292e;color:#e1e4e8\" tabindex=\"0\" data-language=\"html\" data-theme=\"github-dark\"><code data-language=\"html\" data-theme=\"github-dark\" style=\"display: grid;\"><span data-line=\"\"><span style=\"color:#E1E4E8\">&#x3C;</span><span style=\"color:#FDAEB7;font-style:italic\">circle</span></span>\n<span data-line=\"\"><span style=\"color:#B392F0\">  v-for</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"circle in myData\"</span></span>\n<span data-line=\"\"><span style=\"color:#B392F0\">  enter-active-class</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"animated fadeIn\"</span></span>\n<span data-line=\"\"><span style=\"color:#B392F0\">  leave-active-class</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"animated fadeOut\"</span></span>\n<span data-line=\"\"><span style=\"color:#E1E4E8\">/></span></span></code></pre></figure>\n<p>It’s also easy enough to use this same pattern with custom-made CSS transitions or animations, but I don’t find myself doing that too often.</p>\n<h3 id=\"database-and-user-authentication\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#database-and-user-authentication\"><span class=\"icon icon-link\"></span></a>Database and user authentication</h3>\n<p>Over the past 3 months or so, I’ve fallen head over heels for the combination of Vue and Firestore via the <a href=\"https://www.npmjs.com/package/vue-firestore\">vue-firestore</a> Vue binding. You set up your Firebase app, plug in all your auth keys, and then bind data objects to firestore collections. This binding is instantaneous and reactive, so if your Vue template references an object that is bound to a collection, the page automatically updates if an item is added, removed, or changed in firestore. You don’t have to do anything different. It feels like magic.</p>\n<p>So far for me Vue + Firestore has been fast, easy, and scalable. It reminds me of working with Meteor.js way back when.</p>\n<h3 id=\"deploying\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#deploying\"><span class=\"icon icon-link\"></span></a>Deploying</h3>\n<p>I’ve been really enjoying using Netlify, and the Netlify CLI makes things even easier and faster. Once I’m ready to show someone what I’ve been working on, I just do <code>npm run build; netlify deploy —dir=dist</code> and the CLI walks me through creating a URL.</p>\n<p>If I end up working on a project for a few days, I’ll go ahead and set up <a href=\"https://www.netlify.com/docs/continuous-deployment/\">Netlify’s continuous deployment</a> with a GitHub repo so that every time I push to master netlify automatically re-builds production from the latest commit.</p>\n<p>It doesn’t happen that often, but if I want to go even further, it is super easy to just buy a domain name from <a href=\"https://namecheap.com\">Namecheap</a> and point it at the Netlify DNS servers. Netlify delivers websites incredibly fast, especially <a href=\"https://nuxtjs.org/faq/netlify-deployment/\">combined with Nuxt</a>.</p>\n<p>If I need to host really big files that I don’t want to put into a git repo, I’ll put them on S3 and reference the uploaded URLs in the project. I’ve also been experimenting with using <a href=\"https://cloudinary.com/\">Cloudinary</a> for hosting my images.</p>\n<p>From start to finish, I can do everything described in this guide in about 30 minutes.</p>\n<p>The lack of friction with this workflow causes me to try and start new things more often. This is really important to me right now as I experiment with different technologies and approaches. I have definitely had ideas and hesitated to start giving them a try because I knew I would need to spin up a new project, set up my IDE, etc. Code that exists is better than a good idea. I’d rather have a dozen half-built prototypes than a hundred good ideas.</p>",
  "modified": "2024-09-23T16:13:36.000Z",
  "description": "",
  "dek": "",
  "url": "",
  "tags": [
    "vue",
    "dataviz",
    "d3",
    "javascript",
    "webdesign"
  ],
  "hidden": false,
  "draft": false,
  "wordCount": 932,
  "readingTime": 4,
  "imageCount": 0,
  "linkCount": 15,
  "share": true
}