/**
 * anime.js - ESM
 * @version v4.0.0-beta.100
 * @author Julian Garnier
 * @license MIT
 * @copyright (c) 2024 Julian Garnier
 * @see https://animejs.com
 */const qt=typeof window!="undefined",st=qt?window:null,k=qt?document:null,q={INVALID:0,OBJECT:1,ATTRIBUTE:2,CSS:3,TRANSFORM:4,CSS_VAR:5},P={NUMBER:0,UNIT:1,COLOR:2,COMPLEX:3},Tt={NONE:0,AUTO:1,FORCE:2},it={replace:0,none:1,blend:2},as=Symbol(),ve=Symbol(),Xe=Symbol(),xe=Symbol(),ls=Symbol(),Ye=Symbol(),cs=Symbol(),X=1e-11,$t=1e12,mt=1e3,We=120,Pt="",le=new Map;le.set("x","translateX"),le.set("y","translateY"),le.set("z","translateZ");const hs=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],ds=hs.reduce((e,t)=>({...e,[t]:t+"("}),{}),O=()=>{},ii=/(^#([\da-f]{3}){1,2}$)|(^#([\da-f]{4}){1,2}$)/i,ni=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/i,oi=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(-?\d+|-?\d*.\d+)\s*\)/i,ri=/hsl\(\s*(-?\d+|-?\d*.\d+)\s*,\s*(-?\d+|-?\d*.\d+)%\s*,\s*(-?\d+|-?\d*.\d+)%\s*\)/i,ai=/hsla\(\s*(-?\d+|-?\d*.\d+)\s*,\s*(-?\d+|-?\d*.\d+)%\s*,\s*(-?\d+|-?\d*.\d+)%\s*,\s*(-?\d+|-?\d*.\d+)\s*\)/i,us=/[-+]?\d*\.?\d+(?:[eE][-+]?\d+)?/g,fs=/^([-+]?\d*\.?\d+(?:[eE][-+]?\d+)?)+([a-z]+|%)$/i,li=/([a-z])([A-Z])/g,ci=/(\w+)(\([^)]+\)+)/g,ze=/(\*=|\+=|-=)/,ps={id:null,keyframes:null,playbackEase:null,playbackRate:1,frameRate:We,loop:0,reversed:!1,alternate:!1,autoplay:!0,duration:mt,delay:0,loopDelay:0,ease:"outQuad",composition:it.replace,modifier:e=>e,onBegin:O,onUpdate:O,onRender:O,onLoop:O,onComplete:O},W={defaults:ps,root:k,scope:null},hi=e=>e.replace(li,"$1-$2").toLowerCase(),Qt=(e,t)=>e.indexOf(t)===0,Se=Date.now,St=Array.isArray,lt=e=>e&&e.constructor===Object,It=e=>typeof e=="number"&&!isNaN(e),Lt=e=>typeof e=="string",Ft=e=>typeof e=="function",T=e=>typeof e=="undefined",Gt=e=>T(e)||e===null,He=e=>qt&&e instanceof SVGElement,gs=e=>ii.test(e),ms=e=>Qt(e,"rgb"),_s=e=>Qt(e,"hsl"),di=e=>gs(e)||ms(e)||_s(e),ce=e=>!W.defaults.hasOwnProperty(e),Jt=e=>Lt(e)?parseFloat(e):e,ee=Math.pow,he=Math.sqrt,ys=Math.sin,bs=Math.cos,Kt=Math.abs,Ts=Math.exp,vs=Math.ceil,we=Math.floor,ui=Math.asin,fi=Math.max,pi=Math.atan2,se=Math.PI,xs=Math.round,v=(e,t,s)=>e<t?t:e>s?s:e,b=(e,t)=>{const s=10**(t||0);return xs(e*s)/s},wt=(e,t)=>St(t)?t.reduce((s,i)=>Kt(i-e)<Kt(s-e)?i:s):t?xs(e/t)*t:e,Ot=(e,t,s)=>e+(t-e)*s,de=e=>e===1/0?$t:e===-1/0?-$t:e,Ce=e=>e<X?X:e,dt=e=>St(e)?[...e]:e,ue=(e,t)=>{const s={...e};for(let i in t){const n=e[i];s[i]=T(n)?t[i]:n}return s},Y=(e,t,s,i="_prev",n="_next")=>{let o=e._head,r=n;for(s&&(o=e._tail,r=i);o;){const a=o[r];t(o),o=a}},ie=(e,t,s="_prev",i="_next")=>{const n=t[s],o=t[i];n?n[i]=o:e._head=o,o?o[s]=n:e._tail=n,t[s]=null,t[i]=null},Vt=(e,t,s,i="_prev",n="_next")=>{let o=e._tail;for(;o&&s&&s(o,t);)o=o[i];const r=o?o[n]:e._head;o?o[n]=t:e._head=t,r?r[i]=t:e._tail=t,t[i]=o,t[n]=r};class qe{constructor(){this.currentTime=0,this.deltaTime=0,this._elapsedTime=0,this._startTime=0,this._lastTime=0,this._scheduledTime=0,this._frameDuration=mt/We,this._fps=We,this._speed=1,this._hasChildren=!1}get frameRate(){return this._fps}set frameRate(t){const s=this._frameDuration,i=+t,n=i<X?X:i,o=mt/n;this._fps=n,this._frameDuration=o,this._scheduledTime+=o-s}get playbackRate(){return this._speed}set playbackRate(t){const s=+t;this._speed=s<X?X:s}requestTick(t){const s=this._scheduledTime,i=this._elapsedTime;if(this._elapsedTime+=t-i,i<s)return Tt.NONE;const n=this._frameDuration,o=i-s;return this._scheduledTime+=o<n?n:o,Tt.AUTO}computeDeltaTime(t){const s=t-this._lastTime;return this.deltaTime=s,this._lastTime=t,s}}const Ss=(e,t,s,i,n)=>{const o=e.duration,r=e.currentTime,a=e._currentIteration,l=e._iterationDuration,c=e._iterationCount,h=e._loopDelay,u=e.reversed,f=e._alternate,p=e._hasChildren,d=e._delay,g=d+l,m=v(t-d,-d,o),y=m-r,$=m>=o,x=n===Tt.FORCE,D=n===Tt.AUTO,I=x||(y<0?y*-1:y)>=200;let R=e.began,F=0,V=m;if(c>1){const _=~~(m/(l+($?0:h)));e._currentIteration=v(_,0,c),$&&e._currentIteration--,F=e._currentIteration%2,V=m%(l+h)}const J=u^(f&&F),U=e._ease;let C=$?J?0:o:J?l-V:V;U&&(C=l*U(C/l)||0);const w=C<e._iterationTime,Q=I?w?2:1:0;e._iterationTime=C,e._backwards=w&&!J,!s&&!R&&m>0&&(R=e.began=!0,e.onBegin(e)),e.currentTime=m;let B=0;if(R&&e._currentIteration!==a&&(s||e.onLoop(e),p&&Y(e,_=>_.reset(),!0)),(x||D&&(t>=d&&t<=g||t<=d&&r>0||t>=g&&r!==o)||C>=g&&r!==o||C<=d&&r>0||t<=r&&r===o&&e.completed)&&(R&&(e.computeDeltaTime(r),s||e.onUpdate(e)),!p)){let _=e._head,S,L,A,z,nt=0;const Rt=e.parent,_t=e._offset+(Rt?Rt._offset:0)+d+C;for(;_;){const pt=_._composition,j=_._currentTime,ct=_._changeDuration,ot=_._absoluteStartTime+_._changeDuration,gt=_._nextRep,ht=_._prevRep,yt=pt!==it.none;if((Q||(j!==ct||_t<=ot+(gt?gt._delay:0))&&(j!==0||_t>=_._absoluteStartTime))&&(!yt||!_._isOverridden&&(!_._isOverlapped||_t<=ot)&&(!gt||gt._isOverridden||_t<=gt._absoluteStartTime)&&(!ht||ht._isOverridden||_t>=ht._absoluteStartTime+ht._changeDuration+_._delay))){const Dt=_._currentTime=v(C-_._startTime,0,ct),rt=_._ease(Dt/_._updateDuration),ut=_._modifier,xt=_._valueType;let Z,et;if(xt===P.NUMBER)Z=et=ut(Ot(_._fromNumber,_._toNumber,rt));else if(xt===P.UNIT)et=ut(b(Ot(_._fromNumber,_._toNumber,rt),3)),Z=`${et}${_._unit}`;else if(xt===P.COLOR){const K=_._fromNumbers,tt=_._toNumbers,At=b(v(ut(Ot(K[0],tt[0],rt)),0,255),0),Ht=b(v(ut(Ot(K[1],tt[1],rt)),0,255),0),be=b(v(ut(Ot(K[2],tt[2],rt)),0,255),0),te=v(ut(Ot(K[3],tt[3],rt)),0,1);if(Z=`rgba(${At},${Ht},${be},${te})`,yt){const Mt=_._numbers;Mt[0]=At,Mt[1]=Ht,Mt[2]=be,Mt[3]=te}}else if(xt===P.COMPLEX){Z=_._strings[0];for(let K=0,tt=_._toNumbers.length;K<tt;K++){const At=ut(b(Ot(_._fromNumbers[K],_._toNumbers[K],rt),5)),Ht=_._strings[K+1];Z+=`${Ht?At+Ht:At}`,yt&&(_._numbers[K]=At)}}if(yt&&(_._number=et),!i&&pt!==it.blend){const K=_.property,tt=_._tweenType;S=_.target,tt===q.OBJECT?S[K]=Z:tt===q.ATTRIBUTE?S.setAttribute(K,Z):(L=S.style,tt===q.TRANSFORM?(S!==A&&(A=S,z=S[xe]),z[K]=Z,nt=1):tt===q.CSS?L[K]=Z:tt===q.CSS_VAR&&L.setProperty(K,Z)),R&&(B=1)}else _._value=Z}if(nt&&_._renderTransforms){let Dt=Pt;for(let rt in z)Dt+=`${ds[rt]}${z[rt]}) `;L.transform=Dt,nt=0}_=_._next}B&&!s&&e.onRender(e)}return R&&$&&(c===1/0?e._startTime+=e.duration:e._currentIteration>=c-1&&(e.paused=!0,e.completed||(e.completed=!0,s||(e.onComplete(e),e._resolve(e))))),B},Ut=(e,t,s,i,n)=>{if(Ss(e,t,s,i,n),e._hasChildren){let o=0;const r=i?t:e._iterationTime,a=Se();Y(e,l=>{o+=Ss(l,(r-l._offset)*l._speed,s,i,l._fps<e._fps?l.requestTick(a):n)},e._backwards),e.began&&o&&e.onRender(e)}},fe={animation:null,update:O},gi=e=>{let t=fe.animation;return t||(t={duration:X,_offset:0,_delay:0,_head:null,_tail:null},fe.animation=t,fe.update=()=>{e.forEach(s=>{for(let i in s){const n=s[i],o=n._head,r=o._valueType===P.COMPLEX?dt(o._fromNumbers):null;let a=o._fromNumber,l=n._tail;for(;l&&l!==o;)r?l._numbers.forEach((c,h)=>r[h]+=c):a+=l._number,l=l._prevAdd;o._toNumber=a,o._toNumbers=r}}),Ut(t,1,1,0,Tt.FORCE)}),t},ws=qt?requestAnimationFrame:setImmediate,mi=qt?cancelAnimationFrame:clearImmediate;class Cs extends qe{constructor(){super();const t=Se();this.currentTime=t,this._elapsedTime=t,this._startTime=t,this._lastTime=t,this.useDefaultMainLoop=!0,this.suspendWhenHidden=!0,this._reqId=0,this._stopped=!1,this._suspended=!1,this._head=null,this._tail=null}update(){const t=this.currentTime=Se();if(this.requestTick(t)){this.computeDeltaTime(t);const s=this._speed,i=this._fps;let n=this._head;for(;n;){const o=n._next;n.paused?(ie(G,n),this._hasChildren=!!this._tail,n._running=!1,n.completed&&!n._cancelled&&n.cancel()):Ut(n,(t-n._startTime)*n._speed*s,0,0,n._fps<i?n.requestTick(t):Tt.AUTO),n=o}fe.update()}}stop(){return this._stopped=!0,Rs()}start(){return(this._suspended||this._stopped)&&(Y(this,t=>t.resetTime()),this._suspended=!1,this._stopped=!1),this.useDefaultMainLoop&&!this._reqId&&(this._reqId=ws(Es)),this}suspend(){return this._suspended=!0,Rs()}resume(){return this._stopped?this:this.start()}get playbackRate(){return super.playbackRate}set playbackRate(t){super.playbackRate=t,Y(this,s=>s.playbackRate=s._speed)}}const G=new Cs,Es=()=>{G._head?(G._reqId=ws(Es),G.update()):G._reqId=0},Rs=()=>(mi(G._reqId),G._reqId=0,G);function $s(e){const t=Lt(e)?W.root.querySelectorAll(e):e;if(t instanceof NodeList||t instanceof HTMLCollection)return t}function Ct(e){if(Gt(e))return;if(St(e)){const s=e.flat(1/0),i=[];for(let n=0,o=s.length;n<o;n++){const r=s[n];if(!Gt(r)){const a=$s(r);if(a)for(let l=0,c=a.length;l<c;l++){const h=a[l];if(!Gt(h)){let u=!1;for(let f=0,p=i.length;f<p;f++)if(i[f]===h){u=!0;break}u||i.push(h)}}else{let l=!1;for(let c=0,h=i.length;c<h;c++)if(i[c]===r){l=!0;break}l||i.push(r)}}}return i}if(!qt)return[e];const t=$s(e);return t?Array.from(t):[e]}function Qe(e){const t=Ct(e);if(!Gt(t)){for(let s=0,i=t.length;s<i;s++){const n=t[s];if(!n[as]){n[as]=!0;const o=He(n);(n.nodeType||o)&&(n[ve]=!0,n[Xe]=o,n[xe]={})}}return t}}const Xt=e=>e,Ls=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e,_i=(e,t,s)=>{let i=0,n=1,o,r,a=0;do r=i+(n-i)/2,o=Ls(r,t,s)-e,o>0?n=r:i=r;while(Kt(o)>1e-7&&++a<100);return r},yi=(e=.5,t=0,s=.5,i=1)=>e===t&&s===i?Xt:n=>n===0||n===1?n:Ls(_i(n,e,s),t,i),bi=(e=10,t)=>{const s=t?vs:we;return i=>s(v(i,0,1)*e)*(1/e)},Ti=se/2,Ns=se*2,pe=(e=1.64)=>t=>ee(t,+e),Bs={[Pt]:pe,Quad:pe(2),Cubic:pe(3),Quart:pe(4),Quint:pe(5),Sine:e=>1-bs(e*Ti),Circ:e=>1-he(1-e*e),Expo:e=>e?ee(2,10*e-10):0,Bounce:e=>{let t,s=4;for(;e<((t=ee(2,--s))-1)/11;);return 1/ee(4,3-s)-7.5625*ee((t*3-2)/22-e,2)},Back:(e=1.70158)=>t=>(+e+1)*t*t*t-+e*t*t,Elastic:(e=1,t=.3)=>{const s=v(+e,1,10),i=v(+t,X,2),n=i/Ns*ui(1/s),o=Ns/i;return r=>r===0||r===1?r:-s*ee(2,-10*(1-r))*ys((1-r-n)*o)}},Ds={in:e=>t=>e(t),out:e=>t=>1-e(1-t),inOut:e=>t=>t<.5?e(t*2)/2:1-e(t*-2+2)/2,outIn:e=>t=>t<.5?(1-e(1-t*2))/2:(e(t*2-1)+1)/2},As=(...e)=>{const t=e.length;if(!t)return Xt;const s=t-1,i=e[0],n=e[s],o=[0],r=[Jt(i)];for(let a=1;a<s;a++){const l=e[a],c=Lt(l)?l.trim().split(" "):[l],h=c[0],u=c[1];o.push(T(u)?a/s:Jt(u)/100),r.push(Jt(h))}return r.push(Jt(n)),o.push(1),function(l){for(let c=1,h=o.length;c<h;c++){const u=o[c];if(l<=u){const f=o[c-1],p=r[c-1];return p+(r[c]-p)*(l-f)/(u-f)}}return r[r.length-1]}},vi=(e=10,t=1)=>{const s=[0],i=e-1;for(let n=1;n<i;n++){const o=s[n-1],r=n/i,a=(n+1)/i,l=r+(a-r)*Math.random(),c=r*(1-t)+l*t;s.push(v(c,o,1))}return s.push(1),As(...s)},Yt={linear:As,irregular:vi,steps:bi,cubicBezier:yi},Ee={linear:Xt};for(let e in Ds)for(let t in Bs){const s=Bs[t],i=Ds[e],n=t===Pt||t==="Back"||t==="Elastic",o=n?(a,l)=>i(s(a,l)):i(s),r=e+t;Yt[r]=o,Ee[r]=n?o():o}const xi=e=>{if(e.indexOf("(")<=-1)return Xt;const t=e.slice(0,-1).split("("),s=Yt[t[0]];return s?Ee[e]=s(...t[1].split(",")):Xt},Zt=e=>Ft(e)?e:Lt(e)?Ee[e]?Ee[e]:xi(e):Xt,Si=(e,t,s)=>{const i=e.style.transform;let n;if(i){const o=e[xe];let r;for(;r=ci.exec(i);){const a=r[1],l=r[2].slice(1,-1);o[a]=l,a===t&&(n=l,s&&(s[t]=l))}}return i&&!T(n)?n:Qt(t,"scale")?"1":Qt(t,"rotate")||Qt(t,"skew")?"0deg":"0px"},Ps=e=>{const s=Ct(e)[0];if(!(!s||!He(s)))return s},wi=(e,t=.33)=>s=>{const i=Ps(e);if(!i)return;const n=s.tagName==="path",o=n?" ":",",r=s[ls];r&&s.setAttribute(n?"d":"points",r);let a="",l="";if(!t)a=s.getAttribute(n?"d":"points"),l=i.getAttribute(n?"d":"points");else{const c=s.getTotalLength(),h=i.getTotalLength(),u=Math.max(Math.ceil(c*t),Math.ceil(h*t));for(let f=0;f<u;f++){const p=f/(u-1),d=s.getPointAtLength(c*p),g=i.getPointAtLength(h*p),m=n?f===0?"M":"L":"";a+=m+b(d.x,3)+o+d.y+" ",l+=m+b(g.x,3)+o+g.y+" "}}return s[ls]=l,[a,l]};function Ci(e,t,s){const i=getComputedStyle(e),n=parseFloat(i.strokeWidth),r=i.strokeLinecap==="butt"?0:n,a=e.getTotalLength(),l=0,c=1e5,h=b(c/a,l),u=r*h,f=c-u,p=new Proxy(e,{get(d,g){const m=d[g];return g===cs?d:g==="setAttribute"?(...y)=>{if(y[0]==="draw"){const x=y[1].split(" "),D=+x[0],I=+x[1],R=D!==0&&D===I||D===1||I===1?0:h,F=b(D*-c,l),V=b(I*c+F,l),J=b(c-V,l);d.setAttribute("stroke-dashoffset",`${F+R}`),d.setAttribute("stroke-dasharray",`${V+R} ${J+R+1+u}`)}return Reflect.apply(m,d,y)}:Ft(m)?(...y)=>Reflect.apply(m,d,y):m}});return e.getAttribute("pathLength")!==`${f}`&&(e.setAttribute("pathLength",`${f}`),p.setAttribute("draw",`${t} ${s}`)),p}const Ei=(e,t=0,s=0)=>{const i=Ct(e);return i.forEach((n,o)=>i[o]=Ci(n,t,s)),i},Ge=(e,t,s=0)=>e.getPointAtLength(t+s>=1?t+s:0),Je=(e,t)=>s=>{const i=+e.getTotalLength(),n=s[Xe],o=e.getCTM();return{from:0,to:i,modifier:r=>{if(t==="a"){const a=Ge(e,r,-1),l=Ge(e,r,1);return pi(l.y-a.y,l.x-a.x)*180/se}else{const a=Ge(e,r,0);return t==="x"?n?a.x:a.x*o.a+a.y*o.c+o.e:n?a.y:a.x*o.b+a.y*o.d+o.f}}}},Ri=e=>{const t=Ps(e);if(!!t)return{x:Je(t,"x"),y:Je(t,"y"),angle:Je(t,"a")}},$i=["opacity","rotate","overflow","color"],Li=(e,t)=>{if($i.includes(t))return!1;if(t in e.style||t in e){if(t==="scale"){const s=e.parentNode;return s&&s.tagName==="filter"}return!0}},Ni={morphTo:wi,createMotionPath:Ri,createDrawable:Ei},Bi=e=>{const t=ni.exec(e)||oi.exec(e),s=T(t[4])?1:+t[4];return[+t[1],+t[2],+t[3],s]},Di=e=>{const t=e.length,s=t===4||t===5;return[+("0x"+e[1]+e[s?1:2]),+("0x"+e[s?2:3]+e[s?2:4]),+("0x"+e[s?3:5]+e[s?3:6]),t===5||t===9?+(+("0x"+e[s?4:7]+e[s?4:8])/255).toFixed(3):1]},Ke=(e,t,s)=>(s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(t-e)*6*s:s<1/2?t:s<2/3?e+(t-e)*(2/3-s)*6:e),Ai=e=>{const t=ri.exec(e)||ai.exec(e),s=+t[1]/360,i=+t[2]/100,n=+t[3]/100,o=T(t[4])?1:+t[4];let r,a,l;if(i===0)r=a=l=n;else{const c=n<.5?n*(1+i):n+i-n*i,h=2*n-c;r=b(Ke(h,c,s+1/3)*255,0),a=b(Ke(h,c,s)*255,0),l=b(Ke(h,c,s-1/3)*255,0)}return[r,a,l,o]},Pi=e=>ms(e)?Bi(e):gs(e)?Di(e):_s(e)?Ai(e):[0,0,0,1],M=(e,t)=>T(e)?t:e,Wt=(e,t,s,i,n)=>{if(Ft(e)){const o=()=>{const r=e(t,s,i);return isNaN(+r)?r||0:+r};return n&&(n.func=o),o()}else return e},Ze=(e,t)=>{const s=e[ve]?e[Xe]&&Li(e,t)?q.ATTRIBUTE:hs.includes(t)||le.get(t)?q.TRANSFORM:Qt(t,"--")?q.CSS_VAR:t in e.style?q.CSS:Gt(e.getAttribute(t))?T(e[t])?q.INVALID:q.OBJECT:q.ATTRIBUTE:q.OBJECT;return s===q.INVALID&&console.warn(`Can't find property '${t}' on target '${e}'.`),s},Fs=(e,t,s)=>{const i=e.style[t];i&&s&&(s[t]=i);const n=i||getComputedStyle(e[cs]||e).getPropertyValue(t);return n==="auto"?"0":n},ne=(e,t,s,i)=>{const n=T(s)?Ze(e,t):s;return n===q.OBJECT?e[t]||0:n===q.ATTRIBUTE?e.getAttribute(t):n===q.TRANSFORM?Si(e,t,i):n===q.CSS_VAR?Fs(e,t,i).trimStart():Fs(e,t,i)},oe=(e,t,s)=>s==="-"?e-t:s==="+"?e+t:e*t,je=()=>({t:P.NUMBER,n:0,u:null,o:null,d:null,s:null}),vt=(e,t)=>{if(t.t=P.NUMBER,t.n=0,t.u=null,t.o=null,t.d=null,t.s=null,!e)return t;let s=e;const i=+s;if(isNaN(i)){const n=ze.exec(s);n&&(s=s.slice(2),t.o=n[0][0]);const o=s.includes(" ")?!1:fs.exec(s);if(o)return t.t=P.UNIT,t.n=+o[1],t.u=o[2],t;if(t.o)return t.n=+s,t;if(di(s))return t.t=P.COLOR,t.d=Pi(s),t;{const r=s+Pt,a=r.match(us);return t.t=P.COMPLEX,t.d=a?a.map(Number):[],t.s=r.split(us)||[],t}}else return t.n=i,t},Os=(e,t)=>(t.t=e._valueType,t.n=e._toNumber,t.u=e._unit,t.o=null,t.d=dt(e._toNumbers),t.s=dt(e._strings),t),ft=je(),ks={},Ms=(e,t,s)=>{if(s===q.TRANSFORM){const i=le.get(e);return i||e}else if(s===q.CSS||s===q.ATTRIBUTE&&He(t)&&e in t.style){const i=ks[e];if(i)return i;{const n=hi(e);return ks[e]=n,n}}else return e},ts={deg:1,rad:180/se,turn:360},Is={},es=(e,t,s,i=!1)=>{const n=t.u,o=t.n;if(t.t===P.UNIT&&n===s)return t;const r=o+n+s,a=Is[r];if(!T(a)&&!i)t.n=a;else{let l;if(n in ts)l=o*ts[n]/ts[s];else{const c=100,h=e.cloneNode(),u=e.parentNode,f=u&&u!==k?u:k.body;f.appendChild(h);const p=h.style;p.width=c+n;const d=h.offsetWidth||c;p.width=c+s;const g=h.offsetWidth||c,m=d/g;f.removeChild(h),l=m*o}t.n=l,Is[r]=l}return t.t,P.UNIT,t.u=s,t},Vs={_rep:new WeakMap,_add:new Map},ge=(e,t,s="_rep")=>{const i=Vs[s];let n=i.get(e);return n||(n={},i.set(e,n)),n[t]?n[t]:n[t]={_head:null,_tail:null}},Fi=(e,t)=>e._isOverridden||e._absoluteStartTime>t._absoluteStartTime,Re=e=>{e._isOverlapped=1,e._isOverridden=1,e._changeDuration=X,e._currentTime=X},Us=(e,t)=>{const s=e._composition;if(s===it.replace){const i=e._absoluteStartTime;Vt(t,e,Fi,"_prevRep","_nextRep");const n=e._prevRep;if(n){const o=n.parent,r=n._absoluteStartTime+n._changeDuration;if(e.parent.id!==o.id&&o._iterationCount>1&&r+(o.duration-o._iterationDuration)>i){Re(n);let c=n._prevRep;for(;c&&c.parent.id===o.id;)Re(c),c=c._prevRep}const a=i-e._delay;if(r>a){const c=n._startTime,h=r-(c+n._updateDuration);n._changeDuration=a-h-c,n._currentTime=n._changeDuration,n._isOverlapped=1,n._changeDuration<X&&Re(n)}let l=0;Y(o,c=>{l-=c._isOverridden-1}),l===0&&(o.completed=!0,o.pause())}}else if(s===it.blend){const i=ge(e.target,e.property,"_add"),n=gi(Vs._add);let o=i._head;o||(o={...e},o._composition=it.replace,o._updateDuration=X,o._startTime=0,o._numbers=dt(e._fromNumbers),o._number=0,o._next=null,o._prev=null,Vt(i,o),Vt(n,o));const r=e._toNumber;if(e._fromNumber=o._fromNumber-r,e._toNumber=0,e._numbers=dt(e._fromNumbers),e._number=0,o._fromNumber=r,e._toNumbers){const a=dt(e._toNumbers);a&&a.forEach((l,c)=>{e._fromNumbers[c]=o._fromNumbers[c]-l,e._toNumbers[c]=0}),o._fromNumbers=a}Vt(i,e,null,"_prevAdd","_nextAdd")}return e},Oi=e=>{const t=e._composition;if(t!==it.none){const s=e.target,i=e.property,n=ge(s,i);if(ie(n,e,"_prevRep","_nextRep"),t===it.blend){const o=ge(s,i,"_add");ie(o,e,"_prevAdd","_nextAdd")}}return e},Xs=e=>(e.paused=!0,e.began=!1,e.completed=!1,e),ss=e=>(e._cancelled&&(e._hasChildren?Y(e,ss):Y(e,t=>{t._composition!==it.none&&Us(t,ge(t.target,t.property))}),e._cancelled=0),e);let ki=0;class Nt extends qe{constructor(t={},s=null,i=0){super();const{id:n,delay:o,duration:r,reversed:a,alternate:l,loop:c,loopDelay:h,autoplay:u,frameRate:f,playbackRate:p,onComplete:d,onLoop:g,onBegin:m,onUpdate:y}=t;W.scope&&W.scope.revertibles.push(this);const $=s?0:G._elapsedTime,x=s?s.defaults:W.defaults,D=Ft(o)||T(o)?x.delay:+o,I=Ft(r)||T(r)?1/0:+r,R=M(c,x.loop),F=M(h,x.loopDelay),V=R===!0||R===1/0||R<0?1/0:R+1;this.id=T(n)?r===X?0:++ki:n,this.parent=s,this.duration=de((I+F)*V-F)||X,this.paused=!0,this.began=!1,this.completed=!1,this.reversed=+M(a,x.reversed),this.onBegin=m||x.onBegin,this.onUpdate=y||x.onUpdate,this.onLoop=g||x.onLoop,this.onComplete=d||x.onComplete,this._autoplay=s?!1:M(u,x.autoplay),this._offset=s?i:G._elapsedTime-G._startTime,this._delay=D,this._loopDelay=F,this._iterationTime=0,this._iterationDuration=I,this._iterationCount=V,this._currentIteration=0,this._resolve=O,this._hasChildren=!1,this._running=!1,this._cancelled=0,this._reversed=this.reversed,this._alternate=M(l,x.alternate),this._backwards=!1,this._prev=null,this._next=null,this._elapsedTime=$,this._startTime=$,this._lastTime=$,this._fps=M(f,x.frameRate),this._speed=M(p,x.playbackRate)}get progress(){return b(this.currentTime/this.duration,6)}set progress(t){const s=this.paused;this.pause().seek(this.duration*+t),s||this.play()}get playbackRate(){return super.playbackRate}set playbackRate(t){super.playbackRate=t,this.resetTime()}reset(t=0){return ss(this),!this._reversed!=!this.reversed&&this.reverse(),this._iterationTime=this._iterationDuration,Ut(this,0,1,t,Tt.FORCE),Xs(this),this._hasChildren&&Y(this,Xs),this}init(t=0){this.frameRate=this._fps,this.playbackRate=this._speed,!t&&this._hasChildren&&Ut(this,this.duration,1,t,Tt.FORCE);const s=this._autoplay;return this.reset(t),s===!0?this.play():!t&&s&&!T(s.linked)&&s.link(this),this}resetTime(){const t=1/(this._speed*G._speed);return this._startTime=Se()-(this.currentTime+this._delay)*t-12,this}pause(){return this.paused?this:(this.paused=!0,this)}play(){return this.paused?(this.paused=!1,this.duration<=X?Ut(this,X,0,0,Tt.FORCE):(this._running||(Vt(G,this),G._hasChildren=!0,this._running=!0),this.resetTime(),G.resume()),this):this}restart(){return this.reset(0).play()}seek(t,s=0,i=0){ss(this),this.completed=!1;const n=this.paused;return this.paused=!0,Ut(this,t+this._delay,~~s,~~i,Tt.AUTO),n?this:this.play()}reverse(){const t=this.reversed;return this.reversed=+(this._alternate&&!(this._iterationCount%2)?t:!t),this.seek(this.duration-this.currentTime),this.resetTime(),this}playForward(){return this.reversed?this.reverse().play():this.play()}playBackward(){return this.reversed?this.play():this.reverse().play()}cancel(){return this._hasChildren?Y(this,t=>t.cancel(),!0):Y(this,Oi),this._cancelled=1,this.pause()}stretch(t){const s=this.duration;if(s===t)return this;const i=t/s;return this.duration=Ce(de(b(s*i,0))),this._iterationDuration=Ce(de(b(this._iterationDuration*i,0))),this._offset*=i,this._delay*=i,this._loopDelay*=i,this}revert(){return Ut(this,0,1,0,Tt.FORCE),this.cancel()}then(t=O){const s=this.then,i=()=>{this.then=null,t(this),this.then=s,this._resolve=O};return new Promise(n=>(this._resolve=()=>n(i()),this.completed&&this._resolve(),this))}}const $e=e=>{if(e._hasChildren)Y(e,$e,!0);else{const t=e;t.pause(),Y(t,s=>{const i=s.property,n=s.target;if(n[ve]){const o=n.style,r=t._inlineStyles[i];if(s._tweenType===q.TRANSFORM){const a=n[xe];if(T(r)||r===Pt?delete a[i]:a[i]=r,s._renderTransforms)if(!Object.keys(a).length)o.removeProperty("transform");else{let l=Pt;for(let c in a)l+=ds[c]+a[c]+") ";o.transform=l}}else T(r)||r===Pt?o.removeProperty(i):o[i]=r;t._tail===s&&t.targets.forEach(a=>{a.getAttribute&&a.getAttribute("style")===Pt&&a.removeAttribute("style")})}})}return e},E=je(),N=je(),Le={func:null},Ne=[null],re=[null,null],Be={to:null};let Mi=0,zt,Bt;const Ii=(e,t)=>{const s={};if(St(e)){const i=[].concat(...e.map(n=>Object.keys(n))).filter(ce);for(let n=0,o=i.length;n<o;n++){const r=i[n],a=e.map(l=>{const c={};for(let h in l){const u=l[h];ce(h)?h===r&&(c.to=u):c[h]=u}return c});s[r]=a}}else{const i=M(t.duration,W.defaults.duration);Object.keys(e).map(o=>({o:parseFloat(o)/100,p:e[o]})).sort((o,r)=>o.o-r.o).forEach(o=>{const r=o.o,a=o.p;for(let l in a)if(ce(l)){let c=s[l];c||(c=s[l]=[]);const h=r*i;let u=c.length,f=c[u-1];const p={to:a[l]};let d=0;for(let g=0;g<u;g++)d+=c[g].duration;u===1&&(p.from=f.to),a.ease&&(p.ease=a.ease),p.duration=h-(u?d:0),c.push(p)}return o});for(let o in s){const r=s[o];let a;for(let l=0,c=r.length;l<c;l++){const h=r[l],u=h.ease;a&&(h.ease=a),a=u}r[0].duration||r.shift()}}return s};class ae extends Nt{constructor(t,s,i,n,o=!1,r=0,a=0){super(s,i,n);this._head=null,this._tail=null;const l=Qe(t),c=l.length,h=s.keyframes,u=h?ue(Ii(h,s),s):s,{delay:f,duration:p,ease:d,playbackEase:g,modifier:m,composition:y,onRender:$}=u,x=i?i.defaults:W.defaults,D=M(g,x.playbackEase),I=D?Zt(D):null,R=!T(d)&&lt(d),F=R?d.solver:M(d,I?"linear":x.ease),V=R?d.duration:M(p,x.duration),J=M(f,x.delay),U=m||x.modifier,C=T(y)&&c>=mt?it.none:T(y)?x.composition:y,w={},Q=this._offset+(i?i._offset:0);let B=NaN,_=NaN,S=0;for(let L=0;L<c;L++){const A=l[L],z=r||L,nt=a||c;let Rt=NaN,_t=NaN;for(let pt in u)if(ce(pt)){const j=Ze(A,pt);if(j!==q.INVALID){const ct=Ms(pt,A,j);let ot=u[pt];if(o&&(re[0]=ot,re[1]=ot,ot=re),St(ot)){const ut=ot.length,xt=!lt(ot[0]);ut===2&&xt?(Be.to=ot,Ne[0]=Be,zt=Ne):ut>2&&xt?(zt=[],ot.forEach((Z,et)=>{et?et===1?(re[1]=Z,zt.push(re)):zt.push(Z):re[0]=Z})):zt=ot}else Ne[0]=ot,zt=Ne;let gt=null,ht=null,yt=NaN,Dt=0,rt=0;for(let ut=zt.length;rt<ut;rt++){const xt=zt[rt];lt(xt)?Bt=xt:(Be.to=xt,Bt=Be),Le.func=null;const Z=Wt(Bt.to,A,z,nt,Le);let et;lt(Z)&&!T(Z.to)?(Bt=Z,et=Z.to):et=Z;const K=Wt(Bt.from,A,z,nt),tt=Bt.ease,At=!T(tt)&&lt(tt),Ht=At?tt.solver:tt||F,be=At?tt.duration:Wt(M(Bt.duration,ut>1?Wt(V,A,z,nt)/ut:V),A,z,nt),te=Wt(M(Bt.delay,rt?0:J),A,z,nt),Mt=Wt(M(Bt.composition,C),A,z,nt),ke=It(Mt)?Mt:it[Mt],ei=Bt.modifier||U,Me=St(et),si=Me||!T(K)&&!T(et),Ie=ht?Dt+te:te,Ve=Q+Ie;let bt=ht;if(ke!==it.none){gt||(gt=ge(A,ct));let H=gt._head;for(;H&&!H._isOverridden&&H._absoluteStartTime<=Ve;)if(bt=H,H=H._nextRep,H&&H._absoluteStartTime>=Ve)for(;H;)Re(H),H=H._nextRep}if(si?(vt(Me?Wt(et[0],A,z,nt):K,E),vt(Me?Wt(et[1],A,z,nt,Le):et,N),E.t===P.NUMBER&&(bt?bt._valueType===P.UNIT&&(E.t=P.UNIT,E.u=bt._unit):(vt(ne(A,ct,j,w),ft),ft.t===P.UNIT&&(E.t=P.UNIT,E.u=ft.u)))):(T(et)?ht?Os(ht,N):vt(i&&bt&&bt.parent.parent===i?bt._value:ne(A,ct,j,w),N):vt(et,N),T(K)?ht?Os(ht,E):vt(i&&bt&&bt.parent.parent===i?bt._value:ne(A,ct,j,w),E):vt(K,E)),E.o&&(E.n=oe(bt?bt._toNumber:vt(ne(A,ct,j,w),ft).n,E.n,E.o)),N.o&&(N.n=oe(E.n,N.n,N.o)),E.t!==N.t){if(E.t===P.COMPLEX||N.t===P.COMPLEX){const H=E.t===P.COMPLEX?E:N,at=E.t===P.COMPLEX?N:E;at.t=P.COMPLEX,at.s=dt(H.s),at.d=H.d.map(()=>at.n)}else if(E.t===P.UNIT||N.t===P.UNIT){const H=E.t===P.UNIT?E:N,at=E.t===P.UNIT?N:E;at.t=P.UNIT,at.u=H.u}else if(E.t===P.COLOR||N.t===P.COLOR){const H=E.t===P.COLOR?E:N,at=E.t===P.COLOR?N:E;at.t=P.COLOR,at.s=H.s,at.d=[0,0,0,1]}}if(E.u!==N.u){let H=N.u?E:N;H=es(A,H,N.u?N.u:E.u,!1)}if(N.d&&E.d&&N.d.length!==E.d.length){const H=E.d.length>N.d.length?E:N,at=H===E?N:E;at.d=H.d.map((dn,rs)=>T(at.d[rs])?0:at.d[rs]),at.s=dt(H.s)}const Ue=+be||X,Te={parent:this,id:Mi++,property:ct,target:A,_value:null,_func:Le.func,_ease:Zt(Ht),_fromNumbers:dt(E.d),_toNumbers:dt(N.d),_strings:dt(N.s),_fromNumber:E.n,_toNumber:N.n,_numbers:dt(E.d),_number:E.n,_unit:N.u,_modifier:ei,_currentTime:0,_startTime:Ie,_delay:+te,_updateDuration:Ue,_changeDuration:Ue,_absoluteStartTime:Ve,_tweenType:j,_valueType:N.t,_composition:ke,_isOverlapped:0,_isOverridden:0,_renderTransforms:0,_prevRep:null,_nextRep:null,_prevAdd:null,_nextAdd:null,_prev:null,_next:null};ke!==it.none&&Us(Te,gt),isNaN(yt)&&(yt=Te._startTime),Dt=Ie+Ue,ht=Te,S++,Vt(this,Te)}(isNaN(_)||yt<_)&&(_=yt),(isNaN(B)||Dt>B)&&(B=Dt),j===q.TRANSFORM&&(Rt=S-rt,_t=S)}}if(!isNaN(Rt)){let pt=0;Y(this,j=>{pt>=Rt&&pt<_t&&(j._renderTransforms=1,j._composition===it.blend&&Y(fe.animation,ct=>{ct.id===j.id&&(ct._renderTransforms=1)})),pt++})}}c||console.warn("No target found. Make sure the element you're trying to animate is accessible before creating your animation."),_?(Y(this,L=>{L._startTime-L._delay||(L._delay-=_),L._startTime-=_}),B-=_):_=0,B||(B=X,this._iterationCount=0),this.targets=l,this.duration=B===X?X:de((B+this._loopDelay)*this._iterationCount-this._loopDelay)||X,this.onRender=$||x.onRender,this._ease=I,this._delay=_,this._iterationDuration=B,this._inlineStyles=w}stretch(t){const s=this.duration;if(s===t)return this;const i=t/s;return Y(this,n=>{n._updateDuration=Ce(n._updateDuration*i),n._changeDuration=Ce(n._changeDuration*i),n._currentTime*=i,n._startTime*=i,n._absoluteStartTime*=i}),super.stretch(t)}refresh(){return Y(this,t=>{const s=ne(t.target,t.property,t._tweenType);vt(s,ft),t._fromNumbers=dt(ft.d),t._fromNumber=ft.n,t._func&&(vt(t._func(),N),t._toNumbers=dt(N.d),t._strings=dt(N.s),t._toNumber=N.n)}),this}revert(){return super.revert(),$e(this)}then(t){return super.then(t)}}function jt(e,t,s){const i=Qe(e);if(!(Gt(i)||St(i)&&!i.length)&&i&&i.length){const[n]=i,o=Ze(n,t),r=Ms(t,n,o);let a=ne(n,r);if(T(s))return a;if(vt(a,ft),ft.t===P.NUMBER||ft.t===P.UNIT){if(s===!1)return ft.n;{const l=es(n,ft,s,!1);return`${b(l.n,3)}${l.u}`}}}}const kt=(e,t)=>{if(!T(t))return t.duration=X,t.composition=M(t.composition,it.none),new ae(e,t,null,0,!0).play()},Ys=(e,t)=>{let s=!1;return Y(t,i=>{e.includes(i.target)&&(ie(t,i),s=!0)},!0),s},me=(e,t)=>{const s=Ct(e),i=t||G;let n;if(i._hasChildren?Y(i,o=>{o._hasChildren||(n=Ys(s,o),n&&!o._head&&ie(i,o)),o._head?me(e,o):o._hasChildren=!1},!0):n=Ys(s,i),n&&!i._head){i._hasChildren=!1;const o=i;o.pause&&o.pause()}return s},is=(e,t,s)=>{const i=10**(s||0);return we((Math.random()*(t-e+1/i)+e)*i)/i},Vi=e=>e[is(0,e.length-1)],Ui=e=>{let t=e.length,s,i;for(;t;)i=is(0,--t),s=e[t],e[t]=e[i],e[i]=s;return e},Xi=(e,t)=>(+e).toFixed(t),Yi=(e,t,s)=>`${e}`.padStart(t,s),Wi=(e,t,s)=>`${e}`.padEnd(t,s),zi=(e,t,s)=>((e-t)%(s-t)+(s-t))%(s-t)+t,_e=(e,t,s,i,n)=>i+(e-t)/(s-t)*(n-i),Hi=e=>e*se/180,qi=e=>e*180/se,Ws=(e,t,s,i)=>{let n=mt/W.defaults.frameRate;if(i!==!1){const r=i||G._hasChildren&&G;r&&r.deltaTime&&(n=r.deltaTime)}const o=1-Math.exp(-s*n*.1);return s?s===1?t:(1-o)*e+o*t:e},Qi=(e,t=0)=>(...s)=>t?i=>e(...s,i):i=>e(i,...s),zs=e=>(...t)=>{const s=e(...t);return new Proxy(O,{apply:(i,n,[o])=>s(o),get:(i,n)=>zs((...o)=>{const r=Hs[n](...o);return a=>r(s(a))})})},Et=(e,t=0)=>(...s)=>(s.length<e.length?zs(Qi(e,t)):e)(...s),Hs={$:Qe,get:jt,set:kt,remove:me,cleanInlineStyles:$e,random:is,randomPick:Vi,shuffle:Ui,lerp:Ws,clamp:Et(v),round:Et(b),snap:Et(wt),wrap:Et(zi),interpolate:Et(Ot,1),mapRange:Et(_e),roundPad:Et(Xi),padStart:Et(Yi),padEnd:Et(Wi),degToRad:Et(Hi),radToDeg:Et(qi)},qs=new Map,Qs=(e=1,t=100,s=10,i=0)=>{const n=[e,t,s,i];let o=qs.get(n);if(!o){const r=v(e,0,mt),a=v(t,1,mt),l=v(s,.1,mt),c=v(he(a/r),X,mt),h=l/(2*he(a*r)),u=h<1?c*he(1-h*h):0,f=h<1?(h*c+-i)/u:-i+c,p=mt/60/100,d=1e-4,g=y=>(h<1?y=Ts(-y*h*c)*(1*bs(u*y)+f*ys(u*y)):y=(1+f*y)*Ts(-y*c),1-y),m=(()=>{let y=0;for(;;){if(Kt(1-g(y))<d){const $=y;let x=1;for(;y+=p,!(Kt(1-g(y))>=d);)if(x++,x===16)return $}y+=p}})();o={duration:b(m*mt,0),solver:y=>vs(g(m*y)*mt)/mt},qs.set(n,o)}return o},Gi=(e,t)=>{if(Qt(t,"<")){const s=t[1]==="<",i=e._tail,n=i?i._offset+i._delay:0;return s?n:n+i.duration}},De=(e,t)=>{let s=e._iterationDuration;if(s===X&&(s=0),T(t))return s;if(It(+t))return+t;const i=t,n=e?e.labels:null,o=!Gt(n),r=Gi(e,i),a=!T(r),l=ze.exec(i);if(l){const c=l[0],h=i.split(c),u=o&&h[0]?n[h[0]]:s,f=a?r:o?u:s,p=+h[1];return oe(f,p,c[0])}else return a?r:o?T(n[i])?s:n[i]:s};function ns(e,t,s,i,n,o){const r=It(e.duration)&&e.duration<=X?s-X:s;Ut(t,r,1,1,Tt.AUTO);const a=i?new ae(i,e,t,r,!1,n,o):new Nt(e,t,r);return a.init(1),Vt(t,a),Y(t,l=>{const h=l._offset+l._delay+l.duration;h>t._iterationDuration&&(t._iterationDuration=h)}),t.duration=de((t._iterationDuration+t._loopDelay)*t._iterationCount-t._loopDelay)||X,t}class Gs extends Nt{constructor(t={}){super(t,null,0);this.duration=0,this.labels={};const s=t.defaults,i=W.defaults;this.defaults=s?ue(s,i):i,this.onRender=t.onRender||i.onRender;const n=M(t.playbackEase,i.playbackEase);this._ease=n?Zt(n):null,this._iterationDuration=0,this._head=null,this._tail=null}add(t,s,i){const n=lt(s),o=lt(t),r=Ft(t);if(n||o||r){if(this._hasChildren=!0,n){const a=s;if(Ft(i)){const l=i,c=Ct(t),h=this.duration,u=this._iterationDuration,f=a.id;let p=0;const d=c.length;c.forEach(g=>{const m={...a};this.duration=h,this._iterationDuration=u,T(f)||(m.id=f+"-"+p),ns(m,this,l(g,p,d,this),g,p,d),p++})}else ns(a,this,De(this,i),t)}else ns(o?t:{onComplete:t,duration:X},this,De(this,s));return this.init(1),this._autoplay===!0?this.play():this}else if(Lt(t))return this.labels[t]=De(this,s),this}set(t,s,i){return T(s)?this:(s.duration=X,s.composition=it.replace,this.add(t,s,i))}stretch(t){const s=this.duration;if(s===t)return this;const i=t/s,n=this.labels;Y(this,o=>{o.stretch(o.duration*i)});for(let o in n)n[o]*=i;return super.stretch(t)}refresh(){return Y(this,t=>{t.refresh()}),this}revert(){return super.revert(),Y(this,t=>t.revert,!0),$e(this)}then(t){return super.then(t)}}const Ji=(e,t={})=>{let s=[],i=0;const n=t.from,o=t.reversed,r=t.ease,a=!T(r),c=(a?lt(r):!1)?r.solver:a?Zt(r):null,h=t.grid,u=t.axis,f=T(n)||n===0||n==="first",p=n==="center",d=n==="last",g=St(e),m=Jt(g?e[0]:e),y=g?Jt(e[1]):0,$=fs.exec((g?e[1]:e)+Pt),x=t.start||0+(g?m:0);let D=f?0:It(n)?n:0;return(I,R,F,V)=>{if(p&&(D=(F-1)/2),d&&(D=F-1),!s.length){for(let w=0;w<F;w++){if(!h)s.push(Kt(D-w));else{const Q=p?(h[0]-1)/2:D%h[0],B=p?(h[1]-1)/2:we(D/h[0]),_=w%h[0],S=we(w/h[0]),L=Q-_,A=B-S;let z=he(L*L+A*A);u==="x"&&(z=-L),u==="y"&&(z=-A),s.push(z)}i=fi(...s)}c&&(s=s.map(w=>c(w/i)*i)),o&&(s=s.map(w=>u?w<0?w*-1:-w:Kt(i-w)))}const J=g?(y-m)/i:m;let C=(V?De(V,T(t.start)?V._iterationDuration:x):x)+(J*b(s[R],2)||0);return t.modifier&&(C=t.modifier(C)),$&&(C=`${C}${$[2]}`),C}},Ki=()=>{const e=document.createElement("div");k.body.appendChild(e),e.style.height="100lvh";const t=e.offsetHeight;return k.body.removeChild(e),t},Ae=(e,t)=>e&&Ft(e)?e(t):e,Pe=new Map;class Zi{constructor(t){this.element=t,this.useWin=this.element===k.body,this.winWidth=0,this.winHeight=0,this.width=0,this.height=0,this.left=0,this.top=0,this.zIndex=0,this.scrollX=0,this.scrollY=0,this.prevScrollX=0,this.prevScrollY=0,this.scrollWidth=0,this.scrollHeight=0,this.velocity=0,this.backwardX=!1,this.backwardY=!1,this.scrollTicker=new Nt({autoplay:!1,onBegin:()=>this.dataTimer.play(),onUpdate:()=>{Y(this,s=>s.handleScroll())},onComplete:()=>this.dataTimer.pause()}).init(),this.dataTimer=new Nt({autoplay:!1,frameRate:30,onUpdate:s=>{const i=s.deltaTime,n=this.prevScrollX,o=this.prevScrollY,r=this.scrollX,a=this.scrollY,l=n-r,c=o-a;this.prevScrollX=r,this.prevScrollY=a,l&&(this.backwardX=n>r),c&&(this.backwardY=o>a),this.velocity=i>0?Math.sqrt(l*l+c*c)/i:0}}).init(),this.resizeTicker=new Nt({autoplay:!1,duration:250,onComplete:()=>{this.updateWindowBounds(),this.refreshScrollObservers(),this.handleScroll()}}).init(),this.wakeTicker=new Nt({autoplay:!1,duration:66,onBegin:()=>{this.scrollTicker.play()},onComplete:()=>{this.scrollTicker.pause()}}).init(),this._head=null,this._tail=null,this.updateScrollCoords(),this.updateWindowBounds(),this.updateBounds(),this.refreshScrollObservers(),this.handleScroll(),this.resizeObserver=new ResizeObserver(()=>this.resizeTicker.restart()),this.resizeObserver.observe(this.element),(this.useWin?st:this.element).addEventListener("scroll",this,!1)}updateScrollCoords(){const t=this.useWin,s=this.element;this.scrollX=b(t?st.scrollX:s.scrollLeft,0),this.scrollY=b(t?st.scrollY:s.scrollTop,0)}updateWindowBounds(){this.winWidth=st.innerWidth,this.winHeight=Ki()}updateBounds(){const t=getComputedStyle(this.element),s=this.element;this.scrollWidth=s.scrollWidth+parseFloat(t.marginLeft)+parseFloat(t.marginRight),this.scrollHeight=s.scrollHeight+parseFloat(t.marginTop)+parseFloat(t.marginBottom),this.updateWindowBounds();let i,n;if(this.useWin)i=this.winWidth,n=this.winHeight;else{const o=s.getBoundingClientRect();i=o.width,n=o.height,this.top=o.top,this.left=o.left}this.width=i,this.height=n}refreshScrollObservers(){Y(this,t=>{t._debug&&t.removeDebug()}),this.updateBounds(),Y(this,t=>{t.refresh(),t._debug&&t.debug()})}refresh(){this.updateWindowBounds(),this.updateBounds(),this.refreshScrollObservers(),this.handleScroll()}handleScroll(){this.updateScrollCoords(),this.wakeTicker.restart()}handleEvent(t){switch(t.type){case"scroll":this.handleScroll();break}}revert(){this.scrollTicker.cancel(),this.dataTimer.cancel(),this.resizeTicker.cancel(),this.wakeTicker.cancel(),this.resizeObserver.unobserve(this.element),(this.useWin?st:this.element).removeEventListener("scroll",this),Pe.delete(this.element)}}const ji=e=>{const t=e&&Ct(e)[0]||k.body;let s=Pe.get(t);return s||(s=new Zi(t),Pe.set(t,s)),s},ye=(e,t,s,i,n)=>{const o=t==="min",r=t==="max",a=t==="top"||t==="left"||t==="start"||o?0:t==="bottom"||t==="right"||t==="end"||r?"100%":t==="center"?"50%":t,{n:l,u:c}=vt(a,ft);let h=l;return c==="%"?h=l/100*s:c&&(h=es(e,ft,"px",!0).n),r&&i<0&&(h+=i),o&&n>0&&(h+=n),h},Fe=(e,t,s,i,n)=>{let o;if(Lt(t)){const r=ze.exec(t);if(r){const a=r[0],l=a[0],c=t.split(a),h=c[0]==="min",u=c[0]==="max",f=ye(e,c[0],s,i,n),p=ye(e,c[1],s,i,n);if(h){const d=oe(ye(e,"min",s),p,l);o=d<f?f:d}else if(u){const d=oe(ye(e,"max",s),p,l);o=d>f?f:d}else o=oe(f,p,l)}else o=ye(e,t,s,i,n)}else o=t;return b(o,0)},Js=e=>{let t;const s=e.targets;for(let i=0,n=s.length;i<n;i++){const o=s[i];if(o[ve]){t=o;break}}return t};let tn=0;const Ks=["#FF4B4B","#FF971B","#FFC730","#F9F640","#7AFF5A","#18FF74","#17E09B","#3CFFEC","#05DBE9","#33B3F1","#638CF9","#C563FE","#FF4FCF","#F93F8A"];class Zs{constructor(t){W.scope&&W.scope.revertibles.push(this);const s=M(t.sync,"play pause"),i=s?Zt(s):null,n=s&&(s==="linear"||s===Xt),o=s&&!(i===Xt&&!n),r=s&&(It(s)||s===!0||n),a=s&&Lt(s)&&!o&&!r,l=a?s.split(" ").map(u=>()=>{const f=this.linked;return f&&f[u]?f[u]():null}):null,c=a&&l.length>2;this.id=tn++,this.container=ji(t.container),this.target=null,this.linked=null,this.repeat=null,this.horizontal=null,this.enter=null,this.leave=null,this.sync=o||r||!!l,this.syncEase=o?i:null,this.syncSmooth=r?s===!0||n?1:s:null,this.onSyncEnter=l&&!c&&l[0]?l[0]:O,this.onSyncLeave=l&&!c&&l[1]?l[1]:O,this.onSyncEnterForward=l&&c&&l[0]?l[0]:O,this.onSyncLeaveForward=l&&c&&l[1]?l[1]:O,this.onSyncEnterBackward=l&&c&&l[2]?l[2]:O,this.onSyncLeaveBackward=l&&c&&l[3]?l[3]:O,this.onEnter=t.onEnter||O,this.onLeave=t.onLeave||O,this.onEnterForward=t.onEnterForward||O,this.onLeaveForward=t.onLeaveForward||O,this.onEnterBackward=t.onEnterBackward||O,this.onLeaveBackward=t.onLeaveBackward||O,this.onUpdate=t.onUpdate||O,this.onSyncComplete=t.onSyncComplete||O,this.completed=!1,this.began=!1,this.isInView=!1,this.offsets=[],this.offset=0,this.offsetStart=0,this.offsetEnd=0,this.distance=0,this.thresholds=["start","end","end","start"],this.coords=[0,0,0,0],this.debugStyles=null,this.$debug=null,this._params=t,this._debug=M(t.debug,!1),this._next=null,this._prev=null,Vt(this.container,this);const h=this._params?this._params.target:null;requestAnimationFrame(()=>{this.target=h?Ct(h)[0]||k.body:this.linked&&this.target?this.target:k.body,this.refresh(),this._debug&&this.debug()})}link(t){if(t){t.pause(),this.linked=t;const s=this._params;if(!s||s&&!s.target){let i;T(t.targets)?Y(t,n=>{n.targets&&!i&&(i=Js(n))}):i=Js(t),i&&(this.target=i,this.refresh())}}return this}get velocity(){return this.container.velocity}get backward(){return this.horizontal?this.container.backwardX:this.container.backwardY}get scroll(){return this.horizontal?this.container.scrollX:this.container.scrollY}get progress(){const t=(this.scroll-this.offsetStart)/this.distance;return t===1/0||isNaN(t)?0:b(v(t,0,1),6)}refresh(){const t=this._params;return this.repeat=M(Ae(t.repeat,this),!0),this.horizontal=M(Ae(t.axis,this),"y")==="x",this.enter=M(Ae(t.enter,this),"start end"),this.leave=M(Ae(t.leave,this),"end start"),this.updateBounds(),this.handleScroll(),this}removeDebug(){this.$debug&&(this.$debug.parentNode.removeChild(this.$debug),this.$debug=null),this.debugStyles&&(this.debugStyles.revert(),this.$debug=null)}debug(){this.removeDebug();const t=this.container,s=this.horizontal,i=t.element.querySelector(":scope > .animejs-onscroll-debug"),n=k.createElement("div"),o=k.createElement("div"),r=k.createElement("div"),a=Ks[this.id%Ks.length],l=t.useWin,c=l?t.winWidth:t.width,h=l?t.winHeight:t.height,u=t.scrollWidth,f=t.scrollHeight,p=260,d=s?0:10,g=s?10:0,m=s?24:p/2,y=s?m:15,$=s?60:m,x=s?$:y,D=s?"repeat-x":"repeat-y",I=U=>s?"0px "+U+"px":U+"px 2px",R=U=>`linear-gradient(${s?90:0}deg, ${U} 2px, transparent 1px)`,F=(U,C,w,Q,B)=>`position:${U};left:${C}px;top:${w}px;width:${Q}px;height:${B}px;`;n.style.cssText=`${F("absolute",d,g,s?u:p,s?p:f)}
      pointer-events: none;
      z-index: ${this.container.zIndex++};
      display: flex;
      flex-direction: ${s?"column":"row"};
      filter: drop-shadow(0px 1px 0px rgba(0,0,0,.75));
    `,o.style.cssText=`${F("sticky",0,0,s?c:m,s?m:h)}`,i||(o.style.cssText+=`background:
        ${R("#FFFF")}${I(m-10)} / 100px 100px ${D},
        ${R("#FFF8")}${I(m-10)} / 10px 10px ${D};
      `),r.style.cssText=`${F("relative",0,0,s?u:m,s?m:f)}`,i||(r.style.cssText+=`background:
        ${R("#FFFF")}${I(0)} / ${s?"100px 10px":"10px 100px"} ${D},
        ${R("#FFF8")}${I(0)} / ${s?"10px 0px":"0px 10px"} ${D};
      `);const V=["enter","leave","enter","leave"];this.coords.forEach((U,C)=>{const w=C>1,Q=(w?0:this.offset)+U,B=C%2,_=Q<x,S=Q>(w?s?c:h:s?u:f)-x,L=(w?B&&!_:!B&&!_)||S,A=k.createElement("div"),z=k.createElement("div"),nt=s?L?"right":"left":L?"bottom":"top",Rt=L?(s?$:y)+(w?s?-1:S?0:-2:s?-1:-2):s?1:0;z.innerHTML=`${V[C]}: ${this.thresholds[C]}`,A.style.cssText=`${F("absolute",0,0,$,y)}
        display: flex;
        flex-direction: ${s?"column":"row"};
        justify-content: flex-${w?"start":"end"};
        align-items: flex-${L?"end":"start"};
        border-${nt}: 2px solid ${a};
      `,z.style.cssText=`
        overflow: hidden;
        max-width: ${p/2-10}px;
        height: ${y};
        margin-${s?L?"right":"left":L?"bottom":"top"}: -2px;
        padding: 1px;
        font-family: ui-monospace, monospace;
        font-size: 10px;
        letter-spacing: -.025em;
        line-height: 9px;
        font-weight: 600;
        text-align: ${s&&L||!s&&!w?"right":"left"};
        white-space: pre;
        text-overflow: ellipsis;
        color: ${B?a:"rgba(0,0,0,.75)"};
        background-color: ${B?"rgba(0,0,0,.65)":a};
        border: 2px solid ${B?a:"transparent"};
        border-${s?L?"top-left":"top-right":L?"top-left":"bottom-left"}-radius: 3px;
        border-${s?L?"bottom-left":"bottom-right":L?"top-right":"bottom-right"}-radius: 3px;
      `,A.appendChild(z);let _t=Q-Rt+(s?1:0);A.style[s?"left":"top"]=`${_t}px`,(w?o:r).appendChild(A)}),n.appendChild(o),n.appendChild(r),t.element.appendChild(n),i||n.classList.add("animejs-onscroll-debug"),this.$debug=n,jt(t.element,"position")==="static"&&(this.debugStyles=kt(t.element,{position:"relative "}))}updateBounds(){this._debug&&this.removeDebug();let t;const s=this.target,i=this.container,n=this.horizontal,o=this.linked;let r,a=s,l=0,c=0,h=a;o&&(r=o.currentTime,o.seek(0,!0));const u=jt(i.element,"position")==="static"?kt(i.element,{position:"relative "}):!1;for(;a&&a!==i.element&&a!==k.body;){const S=jt(a,"position")==="sticky"?kt(a,{position:"static"}):!1;a===h&&(l+=a.offsetLeft||0,c+=a.offsetTop||0,h=a.offsetParent),a=a.parentElement,S&&(t||(t=[]),t.push(S))}u&&u.revert();const f=n?l:c,p=n?s.offsetWidth:s.offsetHeight,d=n?i.width:i.height,m=(n?i.scrollWidth:i.scrollHeight)-d,y=this.enter,$=this.leave;let x="start",D="end",I="end",R="start";if(Lt(y)){const S=y.split(" ");x=S[0],I=S.length>1?S[1]:S[0]}else if(lt(y)){const S=y;T(S.target)||(x=S.target),T(S.container)||(I=S.container)}else It(y)&&(I=y);if(Lt($)){const S=$.split(" ");D=S[0],R=S.length>1?S[1]:S[0]}else if(lt($)){const S=$;T(S.target)||(D=S.target),T(S.container)||(R=S.container)}else It($)&&(R=$);const F=Fe(s,x,p),V=Fe(s,D,p),J=F+f-d,U=V+f-m,C=Fe(s,I,d,J,U),w=Fe(s,R,d,J,U),Q=F+f-C,B=V+f-w,_=B-Q;this.offsets[0]=l,this.offsets[1]=c,this.offset=f,this.offsetStart=Q,this.offsetEnd=B,this.distance=_<=0?0:_,this.thresholds=[x,D,I,R],this.coords=[F,V,C,w],t&&t.forEach(S=>S.revert()),o&&o.seek(r,!0),this._debug&&this.debug()}handleScroll(){const t=this.linked,s=this.sync,i=this.syncEase,n=this.syncSmooth,o=this.horizontal,r=this.container,a=this.scroll,l=a<=this.offsetStart,c=a>=this.offsetEnd,h=!l&&!c,u=this._debug&&this.$debug;let f=!1,p=!1,d=this.progress;if(l&&this.began&&(this.began=!1),d>0&&!this.began&&(this.began=!0),t&&(i||n)){const g=t.progress;if(n&&It(n)){if(n<1){const m=1e-4,y=g<d&&d===1?m:g>d&&!d?-m:0;d=b(Ws(g,d,Ot(.01,.2,n),!1)+y,6)}}else i&&(d=i(d));t.seek(t.duration*d),f=d!==g,p=g===1,f&&!p&&n&&g&&r.wakeTicker.restart()}if(u){const g=o?r.scrollY:r.scrollX;u.style[o?"top":"left"]=g+10+"px"}h&&(f=!0,this.isInView||(this.isInView=!0,this.onSyncEnter(this),this.onEnter(this),u&&(u.style.zIndex=`${this.container.zIndex++}`),this.backward?(this.onSyncEnterBackward(this),this.onEnterBackward(this)):(this.onSyncEnterForward(this),this.onEnterForward(this)))),!h&&this.isInView&&(f=!0),f&&this.onUpdate(this),!h&&this.isInView&&(this.isInView=!1,this.onSyncLeave(this),this.onLeave(this),this.backward?(this.onSyncLeaveBackward(this),this.onLeaveBackward(this)):(this.onSyncLeaveForward(this),this.onLeaveForward(this)),s&&!n&&(p=!0)),d>=1&&this.began&&!this.completed&&(s&&p||!s)&&(s&&this.onSyncComplete(this),this.completed=!0,(!this.repeat&&!t||!this.repeat&&t&&t.completed)&&this.revert()),d<1&&this.completed&&(this.completed=!1)}revert(){const t=this.container;return ie(t,this),t._head||t.revert(),this._debug&&this.removeDebug(),this}}const en=(e={})=>new Zs(e);class os{constructor(t,s){W.scope&&W.scope.revertibles.push(this);const i={},n={};if(this.targets=[],this.animations={},!(T(t)||T(s))){for(let o in s){const r=s[o];ce(o)?n[o]=r:i[o]=r}for(let o in n){const r=n[o],a=lt(r);let l={},c="+=0";if(a){const f=r.unit;Lt(f)&&(c+=f)}else l.duration=r;l[o]=a?ue({to:c},r):c;const h=ue(i,l);h.composition=it.replace,h.autoplay=!1;const u=this.animations[o]=new ae(t,h,null,0,!1).init();this.targets.length||this.targets.push(...u.targets),this[o]=(f,p,d)=>{const g=u._head;if(T(f)){const m=g._numbers;return m&&m.length?m:g._modifier(g._number)}else return Y(u,m=>{if(St(f))for(let y=0,$=f.length;y<$;y++)T(m._numbers[y])||(m._fromNumbers[y]=m._modifier(m._numbers[y]),m._toNumbers[y]=f[y]);else m._fromNumber=m._modifier(m._number),m._toNumber=f;T(d)||(m._ease=Zt(d)),m._currentTime=0}),T(p)||u.stretch(p),u.reset(1).play(),this}}}}revert(){for(let t in this.animations)this[t]=O,this.animations[t].revert();this.animations={},this.targets.length=0}}class sn{constructor(t){this.el=t,this.zIndex=0,this.parentElement=null,this.classList={add:O,remove:O}}get x(){return this.el.x||0}set x(t){this.el.x=t}get y(){return this.el.y||0}set y(t){this.el.y=t}get width(){return this.el.width||0}set width(t){this.el.width=t}get height(){return this.el.height||0}set height(t){this.el.height=t}getBoundingClientRect(){return{top:this.y,right:this.x,bottom:this.y+this.height,left:this.x+this.width}}}class nn{constructor(t){this.$el=t,this.inlineTransforms=[],this.point=new DOMPoint,this.inversedMatrix=this.getMatrix().inverse()}normalizePoint(t,s){return this.point.x=t,this.point.y=s,this.point.matrixTransform(this.inversedMatrix)}traverseUp(t){let s=this.$el.parentElement,i=0;for(;s&&s!==k;)t(s,i),s=s.parentElement,i++}getMatrix(){const t=new DOMMatrix;return this.traverseUp(s=>{const i=new DOMMatrix(jt(s,"transform"));t.preMultiplySelf(i)}),t}remove(){this.traverseUp((t,s)=>{this.inlineTransforms[s]=t.style.transform,t.style.transform="none"})}revert(){this.traverseUp((t,s)=>{const i=this.inlineTransforms[s];i===""?t.style.removeProperty("transform"):t.style.transform=i})}}let Oe=0;class js{constructor(t,s={}){if(!t)return;W.scope&&W.scope.revertibles.push(this);const i=s.x,n=s.y,o=s.trigger,r=s.modifier,a=s.container,l=s.containerPadding||0,c=St(l)?l:[l,l,l,l],h=s.releaseEase,u=lt(i)&&!T(i.mapTo)?i.mapTo:"x",f=lt(n)&&!T(n.mapTo)?n.mapTo:"y";this.snapX=M(s.snap,0),this.snapY=M(s.snap,0),this.scrollSpeed=M(s.scrollSpeed,1.5),this.scrollThreshold=M(s.scrollThreshold,20),this.dragSpeed=M(s.dragSpeed,1),this.releaseEase=h?Zt(h):null,this.releaseStiffness=M(s.releaseStiffness,1),this.releaseVelocity=M(s.releaseVelocity,1),this.container=St(a)?a:null,this.$target=lt(t)?new sn(t):Ct(t)[0],this.$trigger=Ct(o||t)[0],this.fixed=jt(this.$target,"position")==="fixed",this.$container=a&&!this.container?Ct(a)[0]:k.body,this.containerPadding=M(c,[0,0,0,0]),this.containerFriction=v(0,M(s.containerFriction,.85),1),this.onGrab=s.onGrab||O,this.onDrag=s.onDrag||O,this.onRelease=s.onRelease||O,this.onUpdate=s.onUpdate||O,this.onSettle=s.onSettle||O,this.onSnap=s.onSnap||O,this.disabled=[0,0];const p={};if(r&&(p.modifier=r),T(i)||i===!0)p[u]=0;else if(lt(i)){const d=i,g={};d.modifier&&(g.modifier=d.modifier),d.composition&&(g.composition=d.composition),T(d.snap)||(this.snapX=d.snap),p[u]=g}else i===!1&&(p[u]=0,this.disabled[0]=1);if(T(n)||n===!0)p[f]=0;else if(lt(n)){const d=n,g={};d.modifier&&(g.modifier=d.modifier),d.composition&&(g.composition=d.composition),T(d.snap)||(this.snapY=d.snap),p[f]=g}else n===!1&&(p[f]=0,this.disabled[1]=1);this.animate=new os(this.$target,p),this.xProp=u,this.yProp=f,this.destX=0,this.destY=0,this.deltaX=0,this.deltaY=0,this.progresses=[0,0],this.scroll={x:0,y:0},this.coords=[this.x,this.y,0,0],this.snapped=[0,0],this.pointer=[0,0,0,0],this.scrollView=[0,0],this.dragArea=[0,0,0,0],this.containerBounds=[-$t,$t,$t,-$t],this.scrollBounds=[0,0,0,0],this.targetBounds=[0,0,0,0],this.window=[0,0],this.velocity=0,this.angle=0,this.triggerStyles=null,this.bodyStyles=null,this.targetStyles=null,this.transforms=new nn(this.$target),this.updateTicker=new Nt({autoplay:!1,onUpdate:()=>this.update()},null,0).init(),this.grabbed=!1,this.dragged=!1,this.updated=!1,this.released=!1,this.contained=!T(a),this.canScroll=!1,this.useWin=this.$container===k.body,this.$scrollContainer=this.useWin?st:this.$container,this.isFinePointer=matchMedia("(pointer:fine)").matches,this.enabled=!1,this.animate.animations[this.disabled[0]?f:u].onRender=()=>{const d=this.grabbed&&this.updated,g=!d&&this.released;if(d||g){const m=this.x,y=this.y;this.deltaX=this.coords[2]-m,this.deltaY=this.coords[3]-y,this.coords[2]=m,this.coords[3]=y,this.progresses[0]=_e(m,this.containerBounds[3],this.containerBounds[1],0,1),this.progresses[1]=_e(y,this.containerBounds[0],this.containerBounds[2],0,1)}d&&(this.onUpdate(this),this.onDrag(this),this.updated=!1),g&&this.onUpdate(this)},this.animate.animations[this.disabled[0]?f:u].onComplete=()=>{!this.grabbed&&this.released&&(this.released=!1,this.onSettle(this))},this.enable(),this.updateBoundingValues()}get x(){return b(this.animate[this.xProp](),5)}set x(t){if(this.disabled[0])return;const s=b(t,5);this.destX=s,this.snapped[0]=wt(s,this.snapX),this.animate[this.xProp](s,0,Yt.out(5))}get y(){return b(this.animate[this.yProp](),5)}set y(t){if(this.disabled[1])return;const s=b(t,5);this.destY=s,this.snapped[1]=wt(s,this.snapY),this.animate[this.yProp](s,0,Yt.out(5))}get progressX(){return this.progresses[0]}set progressX(t){this.x=_e(t,0,1,this.containerBounds[3],this.containerBounds[1]),this.progresses[0]=t}get progressY(){return this.progresses[1]}set progressY(t){this.y=_e(t,0,1,this.containerBounds[0],this.containerBounds[2]),this.progresses[1]=t}updateScrollCoords(){const t=b(this.useWin?st.scrollX:this.$container.scrollLeft,0),s=b(this.useWin?st.scrollY:this.$container.scrollTop,0),[i,n,o,r]=this.containerPadding,a=this.scrollThreshold;this.scroll.x=t,this.scroll.y=s,this.scrollBounds[0]=s-this.targetBounds[0]+i-a,this.scrollBounds[1]=t-this.targetBounds[1]-n+a,this.scrollBounds[2]=s-this.targetBounds[2]-o+a,this.scrollBounds[3]=t-this.targetBounds[3]+r-a}updateBoundingValues(){const t=this.x,s=this.y,i=this.window[0]=st.innerWidth,n=this.window[1]=st.innerHeight,o=this.useWin,r=this.$container.scrollWidth,a=this.$container.scrollHeight,l=this.fixed,c=this.$container.getBoundingClientRect(),[h,u,f,p]=this.containerPadding;this.dragArea[0]=o?0:c.left,this.dragArea[1]=o?0:c.top,this.scrollView[0]=o?v(r,i,r):r,this.scrollView[1]=o?v(a,n,a):a,this.x=0,this.y=0,this.transforms.remove(),this.updateScrollCoords();const{width:d,height:g,left:m,top:y,right:$,bottom:x}=this.$container.getBoundingClientRect();if(this.dragArea[2]=b(o?v(d,i,i):d,0),this.dragArea[3]=b(o?v(g,n,n):g,0),this.canScroll=l?!1:r>this.dragArea[2]+p-u||a>this.dragArea[3]+h-f&&!this.container&&this.contained,this.contained){const V=this.scroll.x,J=this.scroll.y,U=this.canScroll,C=this.$target.getBoundingClientRect(),w=U?o?0:this.$container.scrollLeft:0,Q=U?o?0:this.$container.scrollTop:0,B=U?this.scrollView[0]-w-d:0,_=U?this.scrollView[1]-Q-g:0;this.targetBounds[0]=b(C.top+J-(o?0:y),0),this.targetBounds[1]=b(C.right+V-(o?i:$),0),this.targetBounds[2]=b(C.bottom+J-(o?n:x),0),this.targetBounds[3]=b(C.left+V-(o?0:m),0),this.container?(this.containerBounds[0]=this.container[0]+h,this.containerBounds[1]=this.container[1]-u,this.containerBounds[2]=this.container[2]-f,this.containerBounds[3]=this.container[3]+p):(this.containerBounds[0]=-b(C.top-(l?v(y,0,n):y)+Q-h,0),this.containerBounds[1]=-b(C.right-(l?v($,0,i):$)-B+u,0),this.containerBounds[2]=-b(C.bottom-(l?v(x,0,n):x)-_+f,0),this.containerBounds[3]=-b(C.left-(l?v(m,0,i):m)+w-p,0))}const[D,I,R,F]=this.containerBounds;this.transforms.revert(),this.x=v(t,F,I),this.y=v(s,D,R)}isOutOfBounds(t,s,i){if(!this.contained)return!1;const[n,o,r,a]=t,[l,c]=this.disabled;return!l&&s<a||!l&&s>o||!c&&i<n||!c&&i>r}update(){if(this.updateScrollCoords(),this.canScroll){const[m,y,$,x]=this.containerPadding,[D,I]=this.scrollView,R=this.dragArea[2],F=this.dragArea[3],V=this.scroll.x,J=this.scroll.y,U=this.$container.scrollWidth,C=this.$container.scrollHeight,w=this.useWin?v(U,this.window[0],U):U,Q=this.useWin?v(C,this.window[1],C):C,B=D-w,_=I-Q;this.dragged&&(B>0||_>0)&&(B>0&&(this.coords[0]-=B,this.scrollView[0]=w),_>0&&(this.coords[1]-=_,this.scrollView[1]=Q));const S=this.scrollSpeed*10,L=this.scrollThreshold,[A,z]=this.coords,[nt,Rt,_t,pt]=this.scrollBounds,j=b(v((z-nt+m)/L,-1,0)*S,0),ct=b(v((A-Rt-y)/L,0,1)*S,0),ot=b(v((z-_t-$)/L,0,1)*S,0),gt=b(v((A-pt+x)/L,-1,0)*S,0);if(j||ot||gt||ct){const ht=b(v(V+(gt||ct),0,D-R),0),yt=b(v(J+(j||ot),0,I-F),0);this.coords[0]-=V-ht,this.coords[1]-=J-yt,this.$scrollContainer.scrollTo(ht,yt)}}const[t,s]=this.pointer;this.coords[0]+=(t-this.pointer[2])*this.dragSpeed,this.coords[1]+=(s-this.pointer[3])*this.dragSpeed,this.pointer[2]=t,this.pointer[3]=s;const[i,n]=this.disabled,[o,r]=this.coords,[a,l]=this.snapped,[c,h,u,f]=this.containerBounds,p=(1-this.containerFriction)*this.dragSpeed;i||(this.x=o>h?h+(o-h)*p:o<f?f+(o-f)*p:o),n||(this.y=r>u?u+(r-u)*p:r<c?c+(r-c)*p:r);const[d,g]=this.snapped;(d!==a&&this.snapX||g!==l&&this.snapY)&&this.onSnap(this)}scrollInView(t,s=100,i=Yt.inOutQuad){this.updateScrollCoords();const n=this.destX,o=this.destY,r=this.scroll,a=this.scrollBounds,l=this.canScroll;if(!this.container&&this.isOutOfBounds(a,n,o)){const[c,h,u,f]=a,p=b(v(o-c,-$t,0),0),d=b(v(n-h,0,$t),0),g=b(v(o-u,0,$t),0),m=b(v(n-f,-$t,0),0);new ae(r,{x:b(r.x+(m?m-t:d?d+t:0),0),y:b(r.y+(p?p-t:g?g+t:0),0),duration:s,ease:i,onUpdate:()=>{this.canScroll=!1,this.$scrollContainer.scrollTo(r.x,r.y)}}).init().then(()=>{this.canScroll=l})}}handleHover(){this.isFinePointer&&!this.triggerStyles&&(this.triggerStyles=kt(this.$trigger,{cursor:"grab"}))}animateInView(t=350,s=Yt.out(5)){this.updateBoundingValues();const i=this.x,n=this.y,[o,r,a,l]=this.containerPadding,c=this.scroll.y-this.targetBounds[0]+o,h=this.scroll.x-this.targetBounds[1]-r,u=this.scroll.y-this.targetBounds[2]-a,f=this.scroll.x-this.targetBounds[3]+l;if(this.isOutOfBounds([c,h,u,f],i,n)){const[p,d]=this.disabled,g=v(wt(i,this.snapX),f,h),m=v(wt(n,this.snapY),c,u);p||this.animate[this.xProp](g,t,s),d||this.animate[this.yProp](m,t,s)}}handleDown(t){const s=t.target;if(this.grabbed||s.type==="range"||s[Ye]&&s!==this.$trigger)return;me(this.scroll);const{x:i,y:n}=this.transforms.normalizePoint(t.clientX,t.clientY);this.grabbed=!0,this.released=!1,this.updateBoundingValues(),this.x=this.x,this.y=this.y,this.coords[0]=this.x,this.coords[1]=this.y,this.coords[2]=this.x,this.coords[3]=this.y,this.pointer[2]=i,this.pointer[3]=n,this.deltaX=0,this.deltaY=0,this.velocity=0,this.angle=0,this.targetStyles&&(this.targetStyles.revert(),this.targetStyles=null);const o=jt(this.$target,"zIndex",!1);Oe=(o>Oe?o:Oe)+1,this.targetStyles=kt(this.$target,{zIndex:Oe}),this.isFinePointer&&(this.triggerStyles&&(this.triggerStyles.revert(),this.targetStyles=null),this.bodyStyles=kt(k.body,{cursor:"grabbing"})),this.scrollInView(0),this.onGrab(this),k.addEventListener("pointermove",this,!1),k.addEventListener("pointerup",this,!1),k.addEventListener("pointercancel",this,!1),st.addEventListener("selectstart",this,!1)}handleMove(t){if(!this.grabbed)return;t.preventDefault(),this.triggerStyles||(this.triggerStyles=kt(this.$trigger,{pointerEvents:"none"}));const{x:s,y:i}=this.transforms.normalizePoint(t.clientX,t.clientY),n=this.updateTicker.play().deltaTime,o=s-this.pointer[2],r=i-this.pointer[3];this.velocity=n>0?Math.sqrt(o*o+r*r)/n:0,this.angle=Math.atan2(r,o),this.pointer[0]=s,this.pointer[1]=i,this.dragged=!0,this.updated=!0,this.released=!1}handleUp(){if(!this.grabbed)return;this.updateTicker.pause(),this.triggerStyles&&(this.triggerStyles.revert(),this.triggerStyles=null),this.isFinePointer&&this.bodyStyles&&(this.bodyStyles.revert(),this.bodyStyles=null);const t=this.releaseEase,s=t||Yt.out(5),[i,n,o,r]=this.containerBounds,[a,l]=this.snapped,c=this.x,h=this.y,u=this.releaseVelocity,[f,p]=this.disabled;let d=v(wt(c,this.snapX),r,n),g=v(wt(h,this.snapY),i,o),m=650;const y=this.velocity,$=1-this.containerFriction,x=y*100*u,D=y?Math.cos(this.angle)*x:0,I=y?Math.sin(this.angle)*x:0,R=c+D,F=h+I,V=b(v(x/50,0,20),2),J=Qs(1,80*this.releaseStiffness,15,V),U=J.solver;if(m=u&&J.duration,d=v(wt(R,this.snapX),r,n),g=v(wt(F,this.snapY),i,o),this.isOutOfBounds(this.containerBounds,R,F)&&$){const w=!f&&(R>n||R<r),Q=!p&&(F>o||F<i),B=w&&!Q,_=Q&&!w,S=_?v(d+(d-c)*.25,r,n):d,L=B?v(g+(g-h)*.25,i,o):g,A=_||t?s:U,z=B||t?s:U;d=v(wt(S,this.snapX),r,n),g=v(wt(L,this.snapY),i,o),f||this.animate[this.xProp](d,m,A),p||this.animate[this.yProp](g,m,z)}else{const w=m*.5;f||this.animate[this.xProp](d,w,s),p||this.animate[this.yProp](g,w,s)}this.destX=d,this.destY=g,this.scrollInView(this.scrollThreshold,m*.75,s),this.onRelease(this);let C=!1;d!==a&&(this.snapped[0]=d,this.snapX&&(C=!0)),g!==l&&this.snapY&&(this.snapped[1]=g,this.snapY&&(C=!0)),C&&this.onSnap(this),this.grabbed=!1,this.dragged=!1,this.released=!0,k.removeEventListener("pointermove",this),k.removeEventListener("pointerup",this),k.removeEventListener("pointercancel",this),st.removeEventListener("selectstart",this)}reset(){return me(this.scroll),this.grabbed=!1,this.dragged=!1,this.updated=!1,this.released=!1,this.canScroll=!1,this.x=0,this.y=0,this.coords[0]=0,this.coords[1]=0,this.pointer[0]=0,this.pointer[1]=0,this.pointer[2]=0,this.pointer[3]=0,this.velocity=0,this.angle=0,this}enable(){return this.enabled||(this.enabled=!0,this.$target[Ye]=!0,this.$target.classList.remove("is-disabled"),this.touchActionStyles=kt(this.$trigger,{touchAction:"none"}),this.$trigger.addEventListener("pointerdown",this),this.$trigger.addEventListener("mouseenter",this)),this}disable(){return this.enabled=!1,this.grabbed=!1,this.dragged=!1,this.updated=!1,this.released=!1,this.canScroll=!1,this.$target[Ye]=!1,this.touchActionStyles.revert(),this.triggerStyles&&(this.triggerStyles.revert(),this.triggerStyles=null),this.bodyStyles&&(this.bodyStyles.revert(),this.bodyStyles=null),this.targetStyles&&(this.targetStyles.revert(),this.targetStyles=null),me(this.scroll),this.updateTicker.pause(),this.$target.classList.add("is-disabled"),this.$trigger.removeEventListener("pointerdown",this),this.$trigger.removeEventListener("mouseenter",this),k.removeEventListener("pointermove",this),k.removeEventListener("pointerup",this),k.removeEventListener("pointercancel",this),st.removeEventListener("selectstart",this),this}revert(){return this.reset(),this.disable(),this.$target.classList.remove("is-disabled"),this.updateTicker.revert(),this}handleEvent(t){switch(t.type){case"pointerdown":this.handleDown(t);break;case"pointermove":this.handleMove(t);break;case"pointerup":this.handleUp();break;case"pointercancel":this.handleUp();break;case"mouseenter":this.handleHover();break;case"selectstart":t.preventDefault();break}}}class ti{constructor(t={}){W.scope&&W.scope.revertibles.push(this);const s=Ct(t.root),i=t.defaults,n=W.defaults,o=t.mediaQueries;if(this.defaults=i?ue(i,n):n,this.root=s?s[0]:k,this.constructors=[],this.revertConstructors=[],this.revertibles=[],this.methods={},this.matches={},this.mediaQueryLists={},o)for(let r in o){const a=st.matchMedia(o[r]);this.mediaQueryLists[r]=a,a.addEventListener("change",this)}}execute(t){let s=W.scope,i=W.root,n=W.defaults;W.scope=this,W.root=this.root,W.defaults=this.defaults;const o=this.mediaQueryLists;for(let a in o)this.matches[a]=o[a].matches;const r=t(this);return W.scope=s,W.root=i,W.defaults=n,r}refresh(){return this.execute(()=>{let t=this.revertibles.length,s=this.revertConstructors.length;for(;t--;)this.revertibles[t].revert();for(;s--;)this.revertConstructors[s](this);this.revertibles.length=0,this.revertConstructors.length=0,this.constructors.forEach(i=>{const n=i(this);n&&this.revertConstructors.push(n)})}),this}add(t,s){if(Ft(t)){const i=t;this.constructors.push(i),this.execute(()=>{const n=i(this);n&&this.revertConstructors.push(n)})}else this.methods[t]=(...i)=>this.execute(()=>s(...i));return this}handleEvent(t){switch(t.type){case"change":this.refresh();break}}revert(){const t=this.revertibles,s=this.revertConstructors,i=this.mediaQueryLists;let n=t.length,o=s.length;for(;n--;)t[n].revert();for(;o--;)s[o](this);for(let r in i)i[r].removeEventListener("change",this);t.length=0,s.length=0,this.constructors.length=0,this.matches={},this.methods={},this.mediaQueryLists={}}}const on=e=>new Nt(e,null,0).init(),rn=(e,t)=>new ae(e,t,null,0,!1).init(),an=e=>new Gs(e).init(),ln=(e,t)=>new os(e,t),cn=(e,t)=>new js(e,t),hn=e=>new ti(e);qt&&(st.AnimeJS||(st.AnimeJS=[]),st.AnimeJS.push({version:"4.0.0-beta.100",engine:G}),k.addEventListener("visibilitychange",()=>G.suspendWhenHidden?k.hidden?G.suspend():G.resume():0));export{os as Animatable,ae as Animation,qe as Clock,js as Draggable,Cs as Engine,ti as Scope,Zs as ScrollObserver,Gs as Timeline,Nt as Timer,rn as animate,ln as createAnimatable,cn as createDraggable,hn as createScope,an as createTimeline,on as createTimer,ps as defaults,Yt as eases,G as engine,en as onScroll,Pe as scrollContainers,Qs as spring,Ji as stagger,Ni as svg,Hs as utils};
