{
  "name": "dockrune",
  "description": "Self-hosted deployment daemon: push-to-deploy from GitHub to Docker VPS",
  "url": "https://github.com/ejfox/dockrune",
  "homepage": null,
  "stats": {
    "stars": 0,
    "forks": 0,
    "watchers": 0,
    "openIssues": 18
  },
  "language": "Go",
  "languageColor": "#00ADD8",
  "topics": [],
  "readme": {
    "html": "<h1 id=\"dockrune\">dockrune</h1>\n<p>self-hosted deployment daemon. receives github webhooks, deploys your stuff.</p>\n<h2 id=\"for-who\">for who</h2>\n<p>you have a $5 vps. you want to deploy your side projects to it. you don't want to ssh in and pull manually. you don't want a paas, kubernetes, yaml files, or a web ui you'll never use.</p>\n<p>you want: push to github → deployed to server. that's it.</p>\n<h2 id=\"the-problem\">the problem</h2>\n<p>existing solutions assume you want complexity:</p>\n<ul>\n<li>enterprise platforms that need 4gb ram just to idle</li>\n<li>\"simplified\" tools that still require learning their special config format</li>\n<li>managed services that cost 10x your vps</li>\n<li>solutions that replace your entire workflow instead of enhancing it</li>\n</ul>\n<h2 id=\"how-dockrune-is-different\">how dockrune is different</h2>\n<pre><code class=\"language-bash\"># installation\nwget binary &#x26;&#x26; ./dockrune init\n\n# configuration  \nnone. it reads your code and figures it out.\n\n# resource usage\n~50mb ram. your apps use what they use.\n\n# mental overhead\nzero. push code, get deployment.\n</code></pre>\n<p>dockrune does exactly one thing: when github sends a webhook, it deploys your code. no more, no less.</p>\n<h2 id=\"alternatives\">alternatives</h2>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<table><thead><tr><th>project</th><th>hosting</th><th>complexity</th><th>languages</th><th>config</th><th>vibe</th></tr></thead><tbody><tr><td><strong>dockrune</strong></td><td>self-hosted</td><td>minimal</td><td>go</td><td>zero</td><td>unix philosophy</td></tr><tr><td><a href=\"https://dokku.com\">dokku</a></td><td>self-hosted</td><td>medium</td><td>bash/go</td><td>buildpacks</td><td>heroku-like paas</td></tr><tr><td><a href=\"https://coolify.io\">coolify</a></td><td>self-hosted</td><td>high</td><td>php/vue</td><td>gui-heavy</td><td>all-in-one platform</td></tr><tr><td><a href=\"https://caprover.com\">caprover</a></td><td>self-hosted</td><td>medium</td><td>node</td><td>gui-based</td><td>docker swarm</td></tr><tr><td><a href=\"https://www.waypointproject.io\">waypoint</a></td><td>self/cloud</td><td>high</td><td>go</td><td>hcl files</td><td>hashicorp ecosystem</td></tr><tr><td><a href=\"https://render.com\">render</a></td><td>managed</td><td>low</td><td>-</td><td>yaml/gui</td><td>vercel competitor</td></tr><tr><td><a href=\"https://railway.app\">railway</a></td><td>managed</td><td>low</td><td>-</td><td>gui</td><td>heroku successor</td></tr><tr><td><a href=\"https://fly.io\">fly.io</a></td><td>managed</td><td>medium</td><td>-</td><td>toml</td><td>edge computing</td></tr></tbody></table>\n<p><strong>why dockrune?</strong></p>\n<ul>\n<li>single binary, no dependencies</li>\n<li>learns your project structure automatically</li>\n<li>minimal resource usage (~50mb ram)</li>\n<li>direct github integration, no git push deploy</li>\n<li>you already have a vps, just use it</li>\n</ul>\n<h2 id=\"quick-start\">quick start</h2>\n<pre><code class=\"language-bash\"># get it\ngit clone https://github.com/ejfox/dockrune\ncd dockrune\n\n# build it\ngo build -o dockrune ./cmd/dockrune\n\n# configure it\n./dockrune init\n\n# run it\n./dockrune serve\n</code></pre>\n<h2 id=\"docker\">docker</h2>\n<pre><code class=\"language-bash\">docker run -d \\\n  -p 9876:9876 \\\n  -p 9877:9877 \\\n  -v /var/run/docker.sock:/var/run/docker.sock \\\n  -v $(pwd)/data:/app/data \\\n  -e GITHUB_WEBHOOK_SECRET=your-secret \\\n  -e WEBHOOK_PORT=9876 \\\n  -e ADMIN_PORT=9877 \\\n  ejfox/dockrune\n</code></pre>\n<h2 id=\"configure-github-webhooks\">configure github webhooks</h2>\n<h3 id=\"step-1-set-up-your-webhook-secret\">step 1: set up your webhook secret</h3>\n<pre><code class=\"language-bash\"># generate a secure webhook secret\nopenssl rand -hex 32\n\n# add it to your .env file\necho \"GITHUB_WEBHOOK_SECRET=your-generated-secret-here\" >> .env\n</code></pre>\n<h3 id=\"step-2-configure-github-webhook\">step 2: configure github webhook</h3>\n<h4 id=\"option-a-single-repository-manual\">option a: single repository (manual)</h4>\n<ol>\n<li>go to your repository on GitHub</li>\n<li>click <strong>Settings</strong> → <strong>Webhooks</strong> → <strong>Add webhook</strong></li>\n<li>configure the webhook (see settings below)</li>\n</ol>\n<h4 id=\"option-b-organization-wide-recommended\">option b: organization-wide (recommended)</h4>\n<ol>\n<li>go to your GitHub organization settings</li>\n<li>click <strong>Settings</strong> → <strong>Webhooks</strong> → <strong>Add webhook</strong></li>\n<li>this webhook will apply to ALL repos in your org automatically</li>\n</ol>\n<h4 id=\"option-c-automate-with-gh-cli-bulk-setup\">option c: automate with gh cli (bulk setup)</h4>\n<pre><code class=\"language-bash\"># set up webhook for all your repos at once\ngh api user/repos --paginate | jq -r '.[].full_name' | while read repo; do\n  gh api repos/$repo/hooks -X POST -f name=web \\\n    -f config[url]=https://your-server.com:9876/webhook/github \\\n    -f config[secret]=your-webhook-secret \\\n    -f config[content_type]=json \\\n    -F events[]=push\n  echo \"✅ Added webhook to $repo\"\ndone\n</code></pre>\n<h4 id=\"webhook-settings-for-any-option-above\">webhook settings (for any option above):</h4>\n<ul>\n<li><strong>Payload URL</strong>: <code>https://your-server.com:9876/webhook/github</code></li>\n<li><strong>Content type</strong>: <code>application/json</code></li>\n<li><strong>Secret</strong>: paste your webhook secret from step 1</li>\n<li><strong>Which events</strong>: select \"Just the push event\"</li>\n<li><strong>Active</strong>: ✅ checked</li>\n</ul>\n<h3 id=\"step-3-test-the-webhook\">step 3: test the webhook</h3>\n<pre><code class=\"language-bash\"># make any commit and push to main branch\ngit add . &#x26;&#x26; git commit -m \"test webhook\" &#x26;&#x26; git push origin main\n\n# check dockrune logs to see deployment\ntail -f logs/dockrune.log\n</code></pre>\n<p><strong>webhook endpoint</strong>: your dockrune server will receive webhooks at <code>/webhook/github</code><br>\n<strong>admin dashboard</strong>: access at <code>https://your-server.com:9877</code> for deployment monitoring</p>\n<h2 id=\"env-vars\">env vars</h2>\n<pre><code class=\"language-bash\">GITHUB_WEBHOOK_SECRET=    # required\nADMIN_USERNAME=admin      # default: admin\nADMIN_PASSWORD=           # required\nJWT_SECRET=               # required\nDEPLOYMENT_DOMAIN=        # your domain\nGITHUB_TOKEN=             # for private repos\nDISCORD_WEBHOOK_URL=      # optional alerts\n</code></pre>\n<h2 id=\"api-endpoints\">api endpoints</h2>\n<ul>\n<li><strong>webhook</strong>: <code>:9876/webhook/github</code> (receives GitHub webhooks)</li>\n<li><strong>health</strong>: <code>:9876/health</code> (server health check)</li>\n<li><strong>admin dashboard</strong>: <code>:9877/</code> (web interface)</li>\n<li><strong>openapi spec</strong>: <code>:9877/openapi.json</code> (api documentation)</li>\n<li><strong>deployments api</strong>: <code>:9877/api/deployments</code> (jwt auth required)</li>\n</ul>\n<p><strong>note</strong>: ports are configurable via <code>WEBHOOK_PORT</code> and <code>ADMIN_PORT</code> environment variables</p>\n<h2 id=\"zero-config-how-it-works\">zero config: how it works</h2>\n<p>dockrune looks at your code and knows what to do. no config files needed.</p>\n<h3 id=\"detection-logic\">detection logic</h3>\n<pre><code class=\"language-bash\"># if it finds docker-compose.yml\n→ runs: docker-compose up -d\n\n# if it finds package.json\n→ runs: npm install &#x26;&#x26; npm start\n\n# if it finds go.mod\n→ runs: go build &#x26;&#x26; ./app\n\n# if it finds requirements.txt\n→ runs: pip install -r requirements.txt &#x26;&#x26; python app.py\n</code></pre>\n<h3 id=\"real-examples\">real examples</h3>\n<p><strong>node project:</strong></p>\n<pre><code>my-app/\n├── package.json     # detected: node project\n├── index.js         # entry point found\n└── src/            \n</code></pre>\n<p>dockrune runs: <code>npm install &#x26;&#x26; npm start</code></p>\n<p><strong>docker project:</strong></p>\n<pre><code>my-app/\n├── docker-compose.yml  # detected: docker compose\n├── Dockerfile         \n└── src/\n</code></pre>\n<p>dockrune runs: <code>docker-compose up -d</code></p>\n<p><strong>static site:</strong></p>\n<pre><code>my-site/\n├── index.html      # detected: static files\n├── style.css      \n└── script.js\n</code></pre>\n<p>dockrune runs: <code>python -m http.server 8080</code></p>\n<h3 id=\"override-if-needed\">override if needed</h3>\n<p>don't like the defaults? add <code>.dockrune.yml</code>:</p>\n<pre><code class=\"language-yaml\">build: make build\nstart: ./bin/server --prod\nport: 9000\n</code></pre>\n<p>but most projects just work without it.</p>\n<h2 id=\"architecture\">architecture</h2>\n<pre><code>github → webhook → detector → queue → deployer → [docker|pm2|binary]\n                                ↓\n                            storage ← admin api ← dashboard\n</code></pre>\n<h2 id=\"security\">security</h2>\n<ul>\n<li>hmac webhook validation</li>\n<li>jwt auth for admin api</li>\n<li>command injection prevention</li>\n<li>path traversal protection</li>\n<li>non-root docker execution</li>\n</ul>\n<h2 id=\"development\">development</h2>\n<pre><code class=\"language-bash\"># run tests\ngo test ./...\n\n# run dashboard dev\ncd dashboard &#x26;&#x26; npm run dev\n\n# run smoke tests\nbash smoke_test.sh\n</code></pre>\n<h2 id=\"license\">license</h2>\n<p>mit</p>",
    "raw": "# dockrune\n\nself-hosted deployment daemon. receives github webhooks, deploys your stuff.\n\n## for who\n\nyou have a $5 vps. you want to deploy your side projects to it. you don't want to ssh in and pull manually. you don't want a paas, kubernetes, yaml files, or a web ui you'll never use.\n\nyou want: push to github → deployed to server. that's it.\n\n## the problem\n\nexisting solutions assume you want complexity:\n- enterprise platforms that need 4gb ram just to idle\n- \"simplified\" tools that still require learning their special config format\n- managed services that cost 10x your vps\n- solutions that replace your entire workflow instead of enhancing it\n\n## how dockrune is different\n\n```bash\n# installation\nwget binary && ./dockrune init\n\n# configuration  \nnone. it reads your code and figures it out.\n\n# resource usage\n~50mb ram. your apps use what they use.\n\n# mental overhead\nzero. push code, get deployment.\n```\n\ndockrune does exactly one thing: when github sends a webhook, it deploys your code. no more, no less.\n\n## alternatives\n\n| project | hosting | complexity | languages | config | vibe |\n|---------|---------|------------|-----------|--------|------|\n| **dockrune** | self-hosted | minimal | go | zero | unix philosophy |\n| [dokku](https://dokku.com) | self-hosted | medium | bash/go | buildpacks | heroku-like paas |\n| [coolify](https://coolify.io) | self-hosted | high | php/vue | gui-heavy | all-in-one platform |\n| [caprover](https://caprover.com) | self-hosted | medium | node | gui-based | docker swarm |\n| [waypoint](https://www.waypointproject.io) | self/cloud | high | go | hcl files | hashicorp ecosystem |\n| [render](https://render.com) | managed | low | - | yaml/gui | vercel competitor |\n| [railway](https://railway.app) | managed | low | - | gui | heroku successor |\n| [fly.io](https://fly.io) | managed | medium | - | toml | edge computing |\n\n**why dockrune?**\n- single binary, no dependencies\n- learns your project structure automatically\n- minimal resource usage (~50mb ram)\n- direct github integration, no git push deploy\n- you already have a vps, just use it\n\n## quick start\n\n```bash\n# get it\ngit clone https://github.com/ejfox/dockrune\ncd dockrune\n\n# build it\ngo build -o dockrune ./cmd/dockrune\n\n# configure it\n./dockrune init\n\n# run it\n./dockrune serve\n```\n\n## docker\n\n```bash\ndocker run -d \\\n  -p 9876:9876 \\\n  -p 9877:9877 \\\n  -v /var/run/docker.sock:/var/run/docker.sock \\\n  -v $(pwd)/data:/app/data \\\n  -e GITHUB_WEBHOOK_SECRET=your-secret \\\n  -e WEBHOOK_PORT=9876 \\\n  -e ADMIN_PORT=9877 \\\n  ejfox/dockrune\n```\n\n## configure github webhooks\n\n### step 1: set up your webhook secret\n```bash\n# generate a secure webhook secret\nopenssl rand -hex 32\n\n# add it to your .env file\necho \"GITHUB_WEBHOOK_SECRET=your-generated-secret-here\" >> .env\n```\n\n### step 2: configure github webhook\n\n#### option a: single repository (manual)\n1. go to your repository on GitHub\n2. click **Settings** → **Webhooks** → **Add webhook**\n3. configure the webhook (see settings below)\n\n#### option b: organization-wide (recommended)\n1. go to your GitHub organization settings\n2. click **Settings** → **Webhooks** → **Add webhook**\n3. this webhook will apply to ALL repos in your org automatically\n\n#### option c: automate with gh cli (bulk setup)\n```bash\n# set up webhook for all your repos at once\ngh api user/repos --paginate | jq -r '.[].full_name' | while read repo; do\n  gh api repos/$repo/hooks -X POST -f name=web \\\n    -f config[url]=https://your-server.com:9876/webhook/github \\\n    -f config[secret]=your-webhook-secret \\\n    -f config[content_type]=json \\\n    -F events[]=push\n  echo \"✅ Added webhook to $repo\"\ndone\n```\n\n#### webhook settings (for any option above):\n- **Payload URL**: `https://your-server.com:9876/webhook/github`\n- **Content type**: `application/json`\n- **Secret**: paste your webhook secret from step 1\n- **Which events**: select \"Just the push event\"\n- **Active**: ✅ checked\n\n### step 3: test the webhook\n```bash\n# make any commit and push to main branch\ngit add . && git commit -m \"test webhook\" && git push origin main\n\n# check dockrune logs to see deployment\ntail -f logs/dockrune.log\n```\n\n**webhook endpoint**: your dockrune server will receive webhooks at `/webhook/github`  \n**admin dashboard**: access at `https://your-server.com:9877` for deployment monitoring\n\n## env vars\n\n```bash\nGITHUB_WEBHOOK_SECRET=    # required\nADMIN_USERNAME=admin      # default: admin\nADMIN_PASSWORD=           # required\nJWT_SECRET=               # required\nDEPLOYMENT_DOMAIN=        # your domain\nGITHUB_TOKEN=             # for private repos\nDISCORD_WEBHOOK_URL=      # optional alerts\n```\n\n## api endpoints\n\n- **webhook**: `:9876/webhook/github` (receives GitHub webhooks)\n- **health**: `:9876/health` (server health check)\n- **admin dashboard**: `:9877/` (web interface)\n- **openapi spec**: `:9877/openapi.json` (api documentation)\n- **deployments api**: `:9877/api/deployments` (jwt auth required)\n\n**note**: ports are configurable via `WEBHOOK_PORT` and `ADMIN_PORT` environment variables\n\n## zero config: how it works\n\ndockrune looks at your code and knows what to do. no config files needed.\n\n### detection logic\n\n```bash\n# if it finds docker-compose.yml\n→ runs: docker-compose up -d\n\n# if it finds package.json\n→ runs: npm install && npm start\n\n# if it finds go.mod\n→ runs: go build && ./app\n\n# if it finds requirements.txt\n→ runs: pip install -r requirements.txt && python app.py\n```\n\n### real examples\n\n**node project:**\n```\nmy-app/\n├── package.json     # detected: node project\n├── index.js         # entry point found\n└── src/            \n```\ndockrune runs: `npm install && npm start`\n\n**docker project:**\n```\nmy-app/\n├── docker-compose.yml  # detected: docker compose\n├── Dockerfile         \n└── src/\n```\ndockrune runs: `docker-compose up -d`\n\n**static site:**\n```\nmy-site/\n├── index.html      # detected: static files\n├── style.css      \n└── script.js\n```\ndockrune runs: `python -m http.server 8080`\n\n### override if needed\n\ndon't like the defaults? add `.dockrune.yml`:\n```yaml\nbuild: make build\nstart: ./bin/server --prod\nport: 9000\n```\n\nbut most projects just work without it.\n\n## architecture\n\n```\ngithub → webhook → detector → queue → deployer → [docker|pm2|binary]\n                                ↓\n                            storage ← admin api ← dashboard\n```\n\n## security\n\n- hmac webhook validation\n- jwt auth for admin api\n- command injection prevention\n- path traversal protection\n- non-root docker execution\n\n## development\n\n```bash\n# run tests\ngo test ./...\n\n# run dashboard dev\ncd dashboard && npm run dev\n\n# run smoke tests\nbash smoke_test.sh\n```\n\n## license\n\nmit",
    "excerpt": "self-hosted deployment daemon. receives github webhooks, deploys your stuff.\n\n\n\nyou have a $5 vps. you want to deploy your side projects to it. you don't want t..."
  },
  "createdAt": "2025-08-06T18:51:37Z",
  "updatedAt": "2025-08-20T16:29:38Z",
  "pushedAt": "2025-08-20T16:29:35Z"
}