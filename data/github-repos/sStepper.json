{
  "name": "sStepper",
  "description": "A stepper utility for interactive stories",
  "url": "https://github.com/ejfox/sStepper",
  "homepage": "http://ejfox.github.com/sStepper/",
  "stats": {
    "stars": 4,
    "forks": 1,
    "watchers": 2,
    "openIssues": 0
  },
  "language": "CoffeeScript",
  "languageColor": "#244776",
  "languages": {
    "CoffeeScript": 6200
  },
  "diskUsage": 166,
  "fileTree": {
    "files": [
      {
        "path": "README.md",
        "size": 6234
      },
      {
        "path": "index.html",
        "size": 2417
      },
      {
        "path": "sStepper.js",
        "size": 2954
      },
      {
        "path": "sStepper.litcoffee",
        "size": 6233
      }
    ],
    "tree": {
      "name": "sStepper",
      "children": [
        {
          "name": "README.md",
          "size": 6234,
          "path": "README.md"
        },
        {
          "name": "index.html",
          "size": 2417,
          "path": "index.html"
        },
        {
          "name": "sStepper.js",
          "size": 2954,
          "path": "sStepper.js"
        },
        {
          "name": "sStepper.litcoffee",
          "size": 6233,
          "path": "sStepper.litcoffee"
        }
      ],
      "path": ""
    },
    "totalFiles": 4,
    "totalSize": 17838
  },
  "topics": [],
  "readme": {
    "html": "<h1 id=\"sstepper\">sStepper</h1>\n<h2 id=\"lightweight-story-stepper\">Lightweight story stepper</h2>\n<p>Often when creating interactive stories, we need to control different \"steps\" in our interactive. Often this is a text box with different sections or steps of a story that have information about what the user is seeing.</p>\n<h2 id=\"how-to-use\">How to use</h2>\n<p>To create our stepper, we must first create it's basic HTML structure. You want to wrap the whole stepper in an element with the ID <strong>#sStepper</strong>. Inside the sStepper you have the <strong>#stepper-sections</strong>. Optionally, you could also have <strong>#stepper-navigation</strong> if you'd like persistent previous/next buttons.</p>\n<p>Any element with the class of <strong>.stepper-next</strong> or <strong>.stepper-prev</strong> will change the stepper in the corresponding direction.</p>\n<h2 id=\"html-example\">HTML Example</h2>\n<p>All you need to create a stepper is the correctly formatted HTML, and jQuery and sStepper included.</p>\n<pre><code>&lt;style type=\"text/css\" media=\"screen\"&gt;\n    .hidden-step { display: none;}\n    #stepper-navigation { padding: 0;}\n    #stepper-navigation li { \n        background-color: white;\n        display: inline-block;\n        list-style-type: none;\n        cursor: pointer;\n        padding: 1em;\n        border-radius: 4px;\n        border: 1px solid #CCC;\n        margin: 0;\n    }\n&lt;/style&gt;\n\n&lt;div id=\"sStepper\"&gt;\n&lt;ul id=\"stepper-navigation\"&gt;\n    &lt;li href=\"#prev\" class=\"stepper-prev\"&gt;Prev&lt;/li&gt;\n    &lt;li href=\"#next\" class=\"stepper-next\"&gt;Next&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;div id=\"stepper-sections\"&gt;\n    &lt;div class=\"stepper-section\"&gt;&lt;h2&gt;Step one!&lt;/h2&gt;&lt;/div&gt;\n    &lt;div class=\"stepper-section\" data-enter-callback=\"alert('Hi!')\"&gt;&lt;h2&gt;Step two!&lt;/h2&gt;&lt;/div&gt;\n&lt;/div&gt;\n\n&lt;/div&gt;\n\n&lt;script src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"sStepper.js\" type=\"text/javascript\" charset=\"utf-8\"&gt;&lt;/script&gt;        \n&lt;script type=\"text/javascript\" charset=\"utf-8\"&gt;\n$(document).ready(function(){\n    sStepper.init(\"#sStepper\");\n})\n&lt;/script&gt;\n</code></pre>\n<p>The <strong>#stepper-sections</strong> contains as many elements as you want with the class <strong>.stepper-section</strong>.</p>\n<h1 id=\"sstepperjs\">sStepper.js</h1>\n<pre><code>sStepper = {}\nsectionCount = 0\nsections = []\noptions = {}\n\nsStepper.init = (stepperElement, sStepperOptions) -&gt;   \n\n    options = sStepperOptions\n\n    sections = $(stepperElement+\" .stepper-section\")\n</code></pre>\n<p>We want to hide all of the sections but the first.</p>\n<pre><code>    sections.each((i) -&gt;\n        sectionCount++\n        $(this).attr(\"id\", \"stepper-section-\"+ (i+1))\n    \n        if i is 0\n            $(this).addClass(\"active-step\")\n        else\n            $(this).addClass(\"hidden-step\")\n    )\n</code></pre>\n<h3 id=\"adding-listeners-for-previousnext\">Adding listeners for previous/next</h3>\n<p>The user would advance to the next step through either a link in the text, or directional buttons in the stepper. Whatever it is, it needs to have the class of \"stepper-next\" or \"stepper-prev\".</p>\n<pre><code>$(\"#sStepper .stepper-next\").click( -&gt; \n    sStepper.nextStep();\n)\n$(\"#sStepper .stepper-prev\").click( -&gt;    \n    sStepper.prevStep();\n)\n</code></pre>\n<h3 id=\"checking-which-section-were-on\">Checking which section we're on</h3>\n<p>We're gonna want to be able to check on which step we're on, it will have the class <strong>.active-step</strong>.</p>\n<pre><code>sStepper.currentStep = () -&gt;\n    activeStep = $(\".active-step\")\n\n    if activeStep.attr(\"id\") isnt undefined\n        stepID = activeStep.attr(\"id\")\n        stepNumber = activeStep.attr(\"id\").split(\"-\")[2]        \n        parseInt(stepNumber)\n</code></pre>\n<h3 id=\"switching-to-a-section\">Switching to a section</h3>\n<p>We also need to handle users moving to the next and previous steps.</p>\n<pre><code>sStepper.switchTo = (targetNum) -&gt;        \n    \n</code></pre>\n<p>If the user reaches the last step which we keep track of in <strong>sectionCount</strong>, we want to loop them back around to the beginning.</p>\n<pre><code>    if targetNum &gt; sectionCount\n        targetNum = 1\n    else if targetNum &lt;= 0\n        targetNum = sectionCount\n        \n    currentStep = sStepper.currentStep();\n    \n    #console.log \"current\", currentStep, \"target\", targetNum\n    \n    $(\"#stepper-section-\"+currentStep).removeClass(\"active-step\").addClass(\"hidden-step\")                \n    \n    newStep = $(\"#stepper-section-\"+targetNum)        \n    newStep.addClass(\"active-step\").removeClass(\"hidden-step\")\n\n    \n</code></pre>\n<p>In addition, whenever we change a step, there should be callback functions to exit the old step and enter the new one. That way we could do things like start an animation once a step starts, or change the type of visualization shown on the entire page. We define the callback functions for each section as a data attribute in the options or HTML. If options are supplied, we ignore the HTML callbacks.</p>\n<pre><code>    if options isnt undefined\n        if options.callbacks isnt undefined\n            if options.callbacks['section'+currentStep] isnt undefined\n                exitCallback = options.callbacks['section'+currentStep].exit\n            if options.callbacks['section'+targetNum] isnt undefined\n                enterCallback = options.callbacks['section'+targetNum].enter\n    else\n        exitCallback = $(\"#stepper-section-\"+currentStep).attr(\"data-exit-callback\")\n        enterCallback = $(\"#stepper-section-\"+targetNum).attr(\"data-enter-callback\")\n    \n    if enterCallback isnt undefined\n        eval(enterCallback)\n\n    if exitCallback isnt undefined\n        eval(exitCallback)\n        \n    return true\n</code></pre>\n<p>Call the switchTo function for +1 or -1 of the currentStep depending on whether it's the next or previous step.</p>\n<pre><code>sStepper.nextStep = -&gt;    \n    currentStep = sStepper.currentStep();\n    sStepper.switchTo(currentStep + 1)            \n\nsStepper.prevStep = -&gt;\n    currentStep = sStepper.currentStep();\n    sStepper.switchTo(currentStep - 1) \n    \n    \n</code></pre>\n<h3 id=\"navigation\">Navigation</h3>\n<p>For navigation we add a link for each section.</p>\n<pre><code>if $(\"#stepper-navigation\").length &gt; 0   \n    for i in [1..$(\".stepper-section\").length]\n        navLink = $(\"&lt;a href='#' onclick='sStepper.switchTo(\"+i+\")'&gt;Section \"+i+\" &lt;/a&gt; \")\n        #navLink.on(\"click\", sStepper.switchTo(i));\n    \n        $(\"#stepper-navigation\").append(navLink)\n\n        \n    \n\n</code></pre>",
    "raw": "# sStepper\n## Lightweight story stepper\n\nOften when creating interactive stories, we need to control different \"steps\" in our interactive. Often this is a text box with different sections or steps of a story that have information about what the user is seeing. \n\n## How to use\n\nTo create our stepper, we must first create it's basic HTML structure. You want to wrap the whole stepper in an element with the ID **#sStepper**. Inside the sStepper you have the **#stepper-sections**. Optionally, you could also have **#stepper-navigation** if you'd like persistent previous/next buttons.\n\nAny element with the class of **.stepper-next** or **.stepper-prev** will change the stepper in the corresponding direction.\n\n## HTML Example\n\nAll you need to create a stepper is the correctly formatted HTML, and jQuery and sStepper included. \n```\n<style type=\"text/css\" media=\"screen\">\n    .hidden-step { display: none;}\n    #stepper-navigation { padding: 0;}\n    #stepper-navigation li { \n        background-color: white;\n        display: inline-block;\n        list-style-type: none;\n        cursor: pointer;\n        padding: 1em;\n        border-radius: 4px;\n        border: 1px solid #CCC;\n        margin: 0;\n    }\n</style>\n\n<div id=\"sStepper\">\n<ul id=\"stepper-navigation\">\n    <li href=\"#prev\" class=\"stepper-prev\">Prev</li>\n    <li href=\"#next\" class=\"stepper-next\">Next</li>\n</ul>\n\n<div id=\"stepper-sections\">\n    <div class=\"stepper-section\"><h2>Step one!</h2></div>\n    <div class=\"stepper-section\" data-enter-callback=\"alert('Hi!')\"><h2>Step two!</h2></div>\n</div>\n\n</div>\n\n<script src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js\"></script>\n<script src=\"sStepper.js\" type=\"text/javascript\" charset=\"utf-8\"></script>        \n<script type=\"text/javascript\" charset=\"utf-8\">\n$(document).ready(function(){\n    sStepper.init(\"#sStepper\");\n})\n</script>\n```\n\nThe **#stepper-sections** contains as many elements as you want with the class **.stepper-section**. \n    \n# sStepper.js\n    \n    sStepper = {}\n    sectionCount = 0\n    sections = []\n    options = {}\n    \n    sStepper.init = (stepperElement, sStepperOptions) ->   \n    \n        options = sStepperOptions\n    \n        sections = $(stepperElement+\" .stepper-section\")\n    \n\nWe want to hide all of the sections but the first.\n\n        sections.each((i) ->\n            sectionCount++\n            $(this).attr(\"id\", \"stepper-section-\"+ (i+1))\n        \n            if i is 0\n                $(this).addClass(\"active-step\")\n            else\n                $(this).addClass(\"hidden-step\")\n        )\n    \n### Adding listeners for previous/next    \nThe user would advance to the next step through either a link in the text, or directional buttons in the stepper. Whatever it is, it needs to have the class of \"stepper-next\" or \"stepper-prev\".\n\n    $(\"#sStepper .stepper-next\").click( -> \n        sStepper.nextStep();\n    )\n    $(\"#sStepper .stepper-prev\").click( ->    \n        sStepper.prevStep();\n    )\n\n### Checking which section we're on\n    \nWe're gonna want to be able to check on which step we're on, it will have the class **.active-step**.     \n    \n    sStepper.currentStep = () ->\n        activeStep = $(\".active-step\")\n\n        if activeStep.attr(\"id\") isnt undefined\n            stepID = activeStep.attr(\"id\")\n            stepNumber = activeStep.attr(\"id\").split(\"-\")[2]        \n            parseInt(stepNumber)\n\n\n### Switching to a section        \nWe also need to handle users moving to the next and previous steps.\n        \n    sStepper.switchTo = (targetNum) ->        \n        \nIf the user reaches the last step which we keep track of in **sectionCount**, we want to loop them back around to the beginning.\n         \n        if targetNum > sectionCount\n            targetNum = 1\n        else if targetNum <= 0\n            targetNum = sectionCount\n            \n        currentStep = sStepper.currentStep();\n        \n        #console.log \"current\", currentStep, \"target\", targetNum\n        \n        $(\"#stepper-section-\"+currentStep).removeClass(\"active-step\").addClass(\"hidden-step\")                \n        \n        newStep = $(\"#stepper-section-\"+targetNum)        \n        newStep.addClass(\"active-step\").removeClass(\"hidden-step\")\n\n        \nIn addition, whenever we change a step, there should be callback functions to exit the old step and enter the new one. That way we could do things like start an animation once a step starts, or change the type of visualization shown on the entire page. We define the callback functions for each section as a data attribute in the options or HTML. If options are supplied, we ignore the HTML callbacks.        \n    \n        if options isnt undefined\n            if options.callbacks isnt undefined\n                if options.callbacks['section'+currentStep] isnt undefined\n                    exitCallback = options.callbacks['section'+currentStep].exit\n                if options.callbacks['section'+targetNum] isnt undefined\n                    enterCallback = options.callbacks['section'+targetNum].enter\n        else\n            exitCallback = $(\"#stepper-section-\"+currentStep).attr(\"data-exit-callback\")\n            enterCallback = $(\"#stepper-section-\"+targetNum).attr(\"data-enter-callback\")\n        \n        if enterCallback isnt undefined\n            eval(enterCallback)\n\n        if exitCallback isnt undefined\n            eval(exitCallback)\n            \n        return true\n\nCall the switchTo function for +1 or -1 of the currentStep depending on whether it's the next or previous step.                                \n    \n    sStepper.nextStep = ->    \n        currentStep = sStepper.currentStep();\n        sStepper.switchTo(currentStep + 1)            \n\n    sStepper.prevStep = ->\n        currentStep = sStepper.currentStep();\n        sStepper.switchTo(currentStep - 1) \n        \n        \n### Navigation        \nFor navigation we add a link for each section.\n\n    if $(\"#stepper-navigation\").length > 0   \n        for i in [1..$(\".stepper-section\").length]\n            navLink = $(\"<a href='#' onclick='sStepper.switchTo(\"+i+\")'>Section \"+i+\" </a> \")\n            #navLink.on(\"click\", sStepper.switchTo(i));\n        \n            $(\"#stepper-navigation\").append(navLink)\n\n            \n        \n    \n    \n",
    "excerpt": "Often when creating interactive stories, we need to control different \"steps\" in our interactive. Often this is a text box with different sections or steps of a..."
  },
  "createdAt": "2013-03-21T06:50:28Z",
  "updatedAt": "2014-05-13T05:23:42Z",
  "pushedAt": "2013-03-25T01:16:42Z"
}